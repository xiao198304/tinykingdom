import{c as Pe,b as qe,g as Ea,r as xa,s as Sa,a as An,d as vi,e as Ra,E as _i}from"./index.e4c89029.js";import{e as wi,b as Ot,a as Ca,i as Ta}from"./index.d5a63a72.js";const Aa="PARSE_ERROR",Ia="INVALID_REQUEST",ka="METHOD_NOT_FOUND",Ba="INVALID_PARAMS",yi="INTERNAL_ERROR",jr="SERVER_ERROR",Oa=[-32700,-32600,-32601,-32602,-32603],_t={[Aa]:{code:-32700,message:"Parse error"},[Ia]:{code:-32600,message:"Invalid Request"},[ka]:{code:-32601,message:"Method not found"},[Ba]:{code:-32602,message:"Invalid params"},[yi]:{code:-32603,message:"Internal error"},[jr]:{code:-32e3,message:"Server error"}},bi=jr;function Na(t){return Oa.includes(t)}function In(t){return Object.keys(_t).includes(t)?_t[t]:_t[bi]}function La(t){const e=Object.values(_t).find(r=>r.code===t);return e||_t[bi]}function Ua(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var dt={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.isBrowserCryptoAvailable=Je.getSubtleCrypto=Je.getBrowerCrypto=void 0;function Jr(){return(Pe===null||Pe===void 0?void 0:Pe.crypto)||(Pe===null||Pe===void 0?void 0:Pe.msCrypto)||{}}Je.getBrowerCrypto=Jr;function Mi(){const t=Jr();return t.subtle||t.webkitSubtle}Je.getSubtleCrypto=Mi;function Pa(){return!!Jr()&&!!Mi()}Je.isBrowserCryptoAvailable=Pa;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.isBrowser=Ve.isNode=Ve.isReactNative=void 0;function Ei(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ve.isReactNative=Ei;function xi(){return typeof qe.exports<"u"&&typeof qe.exports.versions<"u"&&typeof qe.exports.versions.node<"u"}Ve.isNode=xi;function Fa(){return!Ei()&&!xi()}Ve.isBrowser=Fa;(function(t){var e=Pe&&Pe.__createBinding||(Object.create?function(n,c,o,g){g===void 0&&(g=o),Object.defineProperty(n,g,{enumerable:!0,get:function(){return c[o]}})}:function(n,c,o,g){g===void 0&&(g=o),n[g]=c[o]}),r=Pe&&Pe.__exportStar||function(n,c){for(var o in n)o!=="default"&&!c.hasOwnProperty(o)&&e(c,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Je,t),r(Ve,t)})(dt);function Si(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Da(t,e,r){return{id:r||Si(),jsonrpc:"2.0",method:t,params:e}}function Tr(t,e,r){return{id:t,jsonrpc:"2.0",error:qa(e,r)}}function qa(t,e){return typeof t>"u"?In(yi):(typeof t=="string"&&(t=Object.assign(Object.assign({},In(jr)),{message:t})),typeof e<"u"&&(t.data=e),Na(t.code)&&(t=La(t.code)),t)}class Ri{}class $a extends Ri{constructor(e){super()}}class Ha extends Ri{constructor(){super()}}class Wa extends Ha{constructor(e){super()}}const za="^https?:";function ja(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Ja(t,e){const r=ja(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function kn(t){return Ja(t,za)}function Va(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Ka(t){return Va(t)&&(Ya(t)||Ci(t))}function Ya(t){return"result"in t}function Ci(t){return"error"in t}class Bn extends Wa{constructor(e){super(e),this.events=new wi.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Da(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,c)=>{if(!this.connection.connected)try{await this.open()}catch(o){c(o)}this.events.on(`${e.id}`,o=>{Ci(o)?c(o.error):n(o.result)});try{await this.connection.send(e,r)}catch(o){c(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ka(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var Ar={exports:{}};(function(t,e){var r=typeof self<"u"?self:Pe,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(g){var h={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function M(l){return l&&DataView.prototype.isPrototypeOf(l)}if(h.arrayBuffer)var T=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(l){return l&&T.indexOf(Object.prototype.toString.call(l))>-1};function O(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function P(l){return typeof l!="string"&&(l=String(l)),l}function F(l){var p={next:function(){var y=l.shift();return{done:y===void 0,value:y}}};return h.iterable&&(p[Symbol.iterator]=function(){return p}),p}function N(l){this.map={},l instanceof N?l.forEach(function(p,y){this.append(y,p)},this):Array.isArray(l)?l.forEach(function(p){this.append(p[0],p[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(p){this.append(p,l[p])},this)}N.prototype.append=function(l,p){l=O(l),p=P(p);var y=this.map[l];this.map[l]=y?y+", "+p:p},N.prototype.delete=function(l){delete this.map[O(l)]},N.prototype.get=function(l){return l=O(l),this.has(l)?this.map[l]:null},N.prototype.has=function(l){return this.map.hasOwnProperty(O(l))},N.prototype.set=function(l,p){this.map[O(l)]=P(p)},N.prototype.forEach=function(l,p){for(var y in this.map)this.map.hasOwnProperty(y)&&l.call(p,this.map[y],y,this)},N.prototype.keys=function(){var l=[];return this.forEach(function(p,y){l.push(y)}),F(l)},N.prototype.values=function(){var l=[];return this.forEach(function(p){l.push(p)}),F(l)},N.prototype.entries=function(){var l=[];return this.forEach(function(p,y){l.push([y,p])}),F(l)},h.iterable&&(N.prototype[Symbol.iterator]=N.prototype.entries);function q(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function R(l){return new Promise(function(p,y){l.onload=function(){p(l.result)},l.onerror=function(){y(l.error)}})}function C(l){var p=new FileReader,y=R(p);return p.readAsArrayBuffer(l),y}function I(l){var p=new FileReader,y=R(p);return p.readAsText(l),y}function A(l){for(var p=new Uint8Array(l),y=new Array(p.length),S=0;S<p.length;S++)y[S]=String.fromCharCode(p[S]);return y.join("")}function B(l){if(l.slice)return l.slice(0);var p=new Uint8Array(l.byteLength);return p.set(new Uint8Array(l)),p.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:h.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:h.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():h.arrayBuffer&&h.blob&&M(l)?(this._bodyArrayBuffer=B(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||x(l))?this._bodyArrayBuffer=B(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var l=q(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?q(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var l=q(this);if(l)return l;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(l){var p=l.toUpperCase();return W.indexOf(p)>-1?p:l}function j(l,p){p=p||{};var y=p.body;if(l instanceof j){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,p.headers||(this.headers=new N(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!y&&l._bodyInit!=null&&(y=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new N(p.headers)),this.method=V(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function ne(l){var p=new FormData;return l.trim().split("&").forEach(function(y){if(y){var S=y.split("="),m=S.shift().replace(/\+/g," "),a=S.join("=").replace(/\+/g," ");p.append(decodeURIComponent(m),decodeURIComponent(a))}}),p}function b(l){var p=new N,y=l.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(S){var m=S.split(":"),a=m.shift().trim();if(a){var _=m.join(":").trim();p.append(a,_)}}),p}H.call(j.prototype);function i(l,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new N(p.headers),this.url=p.url||"",this._initBody(l)}H.call(i.prototype),i.prototype.clone=function(){return new i(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new N(this.headers),url:this.url})},i.error=function(){var l=new i(null,{status:0,statusText:""});return l.type="error",l};var f=[301,302,303,307,308];i.redirect=function(l,p){if(f.indexOf(p)===-1)throw new RangeError("Invalid status code");return new i(null,{status:p,headers:{location:l}})},g.DOMException=o.DOMException;try{new g.DOMException}catch{g.DOMException=function(p,y){this.message=p,this.name=y;var S=Error(p);this.stack=S.stack},g.DOMException.prototype=Object.create(Error.prototype),g.DOMException.prototype.constructor=g.DOMException}function d(l,p){return new Promise(function(y,S){var m=new j(l,p);if(m.signal&&m.signal.aborted)return S(new g.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function _(){a.abort()}a.onload=function(){var U={status:a.status,statusText:a.statusText,headers:b(a.getAllResponseHeaders()||"")};U.url="responseURL"in a?a.responseURL:U.headers.get("X-Request-URL");var D="response"in a?a.response:a.responseText;y(new i(D,U))},a.onerror=function(){S(new TypeError("Network request failed"))},a.ontimeout=function(){S(new TypeError("Network request failed"))},a.onabort=function(){S(new g.DOMException("Aborted","AbortError"))},a.open(m.method,m.url,!0),m.credentials==="include"?a.withCredentials=!0:m.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&h.blob&&(a.responseType="blob"),m.headers.forEach(function(U,D){a.setRequestHeader(D,U)}),m.signal&&(m.signal.addEventListener("abort",_),a.onreadystatechange=function(){a.readyState===4&&m.signal.removeEventListener("abort",_)}),a.send(typeof m._bodyInit>"u"?null:m._bodyInit)})}return d.polyfill=!0,o.fetch||(o.fetch=d,o.Headers=N,o.Request=j,o.Response=i),g.Headers=N,g.Request=j,g.Response=i,g.fetch=d,Object.defineProperty(g,"__esModule",{value:!0}),g})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var c=n;e=c.fetch,e.default=c.fetch,e.fetch=c.fetch,e.Headers=c.Headers,e.Request=c.Request,e.Response=c.Response,t.exports=e})(Ar,Ar.exports);const On=Ea(Ar.exports);function Ti(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Ir(t){return typeof t=="string"?t:JSON.stringify(t)}const Qa={Accept:"application/json","Content-Type":"application/json"},Ga="POST",Nn={headers:Qa,method:Ga};class Za{constructor(e){if(this.url=e,this.events=new wi.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!kn(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=Ir(e),o=await(await On(this.url,Object.assign(Object.assign({},Nn),{body:n}))).json();this.onPayload({data:o})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!kn(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise((r,n)=>{this.events.once("register_error",c=>{n(c)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));r()})});this.url=e,this.registering=!0;try{const r=Ir({id:1,jsonrpc:"2.0",method:"test",params:[]});await On(e,Object.assign(Object.assign({},Nn),{body:r})),this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ti(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),c=n.message||n.toString(),o=Tr(e,c);this.events.emit("payload",o)}parseError(e,r=this.url){return Ua(e,r,"HTTP")}}var Vr={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});var Ai=ae.getLocalStorage=qi=ae.getLocalStorageOrThrow=Di=ae.getCrypto=Fi=ae.getCryptoOrThrow=Pi=ae.getLocation=Ui=ae.getLocationOrThrow=Li=ae.getNavigator=Ni=ae.getNavigatorOrThrow=Oi=ae.getDocument=Bi=ae.getDocumentOrThrow=ki=ae.getFromWindowOrThrow=Ii=ae.getFromWindow=void 0;function tt(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Ii=ae.getFromWindow=tt;function pt(t){const e=tt(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var ki=ae.getFromWindowOrThrow=pt;function Xa(){return pt("document")}var Bi=ae.getDocumentOrThrow=Xa;function es(){return tt("document")}var Oi=ae.getDocument=es;function ts(){return pt("navigator")}var Ni=ae.getNavigatorOrThrow=ts;function rs(){return tt("navigator")}var Li=ae.getNavigator=rs;function ns(){return pt("location")}var Ui=ae.getLocationOrThrow=ns;function is(){return tt("location")}var Pi=ae.getLocation=is;function os(){return pt("crypto")}var Fi=ae.getCryptoOrThrow=os;function as(){return tt("crypto")}var Di=ae.getCrypto=as;function ss(){return pt("localStorage")}var qi=ae.getLocalStorageOrThrow=ss;function cs(){return tt("localStorage")}Ai=ae.getLocalStorage=cs;Object.defineProperty(Vr,"__esModule",{value:!0});var $i=Vr.getWindowMetadata=void 0;const Ln=ae;function us(){let t,e;try{t=Ln.getDocumentOrThrow(),e=Ln.getLocationOrThrow()}catch{return null}function r(){const O=t.getElementsByTagName("link"),P=[];for(let F=0;F<O.length;F++){const N=O[F],q=N.getAttribute("rel");if(q&&q.toLowerCase().indexOf("icon")>-1){const R=N.getAttribute("href");if(R)if(R.toLowerCase().indexOf("https:")===-1&&R.toLowerCase().indexOf("http:")===-1&&R.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(R.indexOf("/")===0)C+=R;else{const I=e.pathname.split("/");I.pop(),C+=I.join("/")+"/"+R}P.push(C)}else if(R.indexOf("//")===0){const C=e.protocol+R;P.push(C)}else P.push(R)}}return P}function n(...O){const P=t.getElementsByTagName("meta");for(let F=0;F<P.length;F++){const N=P[F],q=["itemprop","property","name"].map(R=>N.getAttribute(R)).filter(R=>R?O.includes(R):!1);if(q.length&&q){const R=N.getAttribute("content");if(R)return R}}return""}function c(){let O=n("name","og:site_name","og:title","twitter:title");return O||(O=t.title),O}function o(){return n("description","og:description","twitter:description","keywords")}const g=c(),h=o(),M=e.origin,T=r();return{description:h,url:M,icons:T,name:g}}$i=Vr.getWindowMetadata=us;var fs=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),c=0,e=0;e<r;e++)for(var o=arguments[e],g=0,h=o.length;g<h;g++,c++)n[c]=o[g];return n},ls=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),hs=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=qe.exports.platform}return t}(),ds=function(){function t(e,r,n,c){this.name=e,this.version=r,this.os=n,this.bot=c,this.type="bot-device"}return t}(),ps=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),gs=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),ms=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,vs=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Un=3,_s=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",ms]],Pn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ws(t){return t?Fn(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gs:typeof navigator<"u"?Fn(navigator.userAgent):Ms()}function ys(t){return t!==""&&_s.reduce(function(e,r){var n=r[0],c=r[1];if(e)return e;var o=c.exec(t);return!!o&&[n,o]},!1)}function Fn(t){var e=ys(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new ps;var c=n[1]&&n[1].split(/[._]/).slice(0,3);c?c.length<Un&&(c=fs(c,Es(Un-c.length))):c=[];var o=c.join("."),g=bs(t),h=vs.exec(t);return h&&h[1]?new ds(r,o,g,h[1]):new ls(r,o,g)}function bs(t){for(var e=0,r=Pn.length;e<r;e++){var n=Pn[e],c=n[0],o=n[1],g=o.exec(t);if(g)return c}return null}function Ms(){var t=typeof qe.exports<"u"&&qe.exports.version;return t?new hs(qe.exports.version.slice(1)):null}function Es(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function $t(t){return ws(t)}function Ht(){const t=$t();return t&&t.os?t.os:void 0}function Hi(){const t=Ht();return t?t.toLowerCase().includes("android"):!1}function Wi(){const t=Ht();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function zi(){return Ht()?Hi()||Wi():!1}function ji(){const t=$t();return t&&t.name?t.name.toLowerCase()==="node":!1}function Ji(){return!ji()&&!!Vi()}const xs=Ii,Ss=ki,Rs=Bi,Cs=Oi,Ts=Ni,Vi=Li,As=Ui,Ki=Pi,Is=Fi,ks=Di,Bs=qi,Wt=Ai;function kr(){return $i()}const Yi=Ti,Qi=Ir;function Kr(t,e){const r=Qi(e),n=Wt();n&&n.setItem(t,r)}function Yr(t){let e=null,r=null;const n=Wt();return n&&(r=n.getItem(t)),e=r&&Yi(r),e}function Qr(t){const e=Wt();e&&e.removeItem(t)}const Nt="WALLETCONNECT_DEEPLINK_CHOICE";function Os(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function Ns(t){const e=t.href.split("?")[0];Kr(Nt,Object.assign(Object.assign({},t),{href:e}))}function Gi(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function Ls(t,e){let r=t;return e&&(r=e.map(n=>Gi(t,n)).filter(Boolean)),r}const Zi="https://registry.walletconnect.com";function Us(){return Zi+"/api/v2/wallets"}function Ps(){return Zi+"/api/v2/dapps"}function Xi(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Fs(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>Xi(r,e))}const Ds=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:$t,detectOS:Ht,isAndroid:Hi,isIOS:Wi,isMobile:zi,isNode:ji,isBrowser:Ji,getFromWindow:xs,getFromWindowOrThrow:Ss,getDocumentOrThrow:Rs,getDocument:Cs,getNavigatorOrThrow:Ts,getNavigator:Vi,getLocationOrThrow:As,getLocation:Ki,getCryptoOrThrow:Is,getCrypto:ks,getLocalStorageOrThrow:Bs,getLocalStorage:Wt,getClientMeta:kr,safeJsonParse:Yi,safeJsonStringify:Qi,setLocal:Kr,getLocal:Yr,removeLocal:Qr,mobileLinkChoiceKey:Nt,formatIOSMobile:Os,saveMobileLinkInfo:Ns,getMobileRegistryEntry:Gi,getMobileLinkRegistry:Ls,getWalletRegistryUrl:Us,getDappRegistryUrl:Ps,formatMobileRegistryEntry:Xi,formatMobileRegistry:Fs},Symbol.toStringTag,{value:"Module"})),qs=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Gr=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],$s={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var eo={exports:{}};(function(t){(function(e,r){function n(b,i){if(!b)throw new Error(i||"Assertion failed")}function c(b,i){b.super_=i;var f=function(){};f.prototype=i.prototype,b.prototype=new f,b.prototype.constructor=b}function o(b,i,f){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((i==="le"||i==="be")&&(f=i,i=10),this._init(b||0,i||10,f||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var g;try{g=xa.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,f){return i.cmp(f)>0?i:f},o.min=function(i,f){return i.cmp(f)<0?i:f},o.prototype._init=function(i,f,d){if(typeof i=="number")return this._initNumber(i,f,d);if(typeof i=="object")return this._initArray(i,f,d);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),i=i.toString().replace(/\s+/g,"");var l=0;i[0]==="-"&&l++,f===16?this._parseHex(i,l):this._parseBase(i,f,l),i[0]==="-"&&(this.negative=1),this.strip(),d==="le"&&this._initArray(this.toArray(),f,d)},o.prototype._initNumber=function(i,f,d){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),f,d)},o.prototype._initArray=function(i,f,d){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var p,y,S=0;if(d==="be")for(l=i.length-1,p=0;l>=0;l-=3)y=i[l]|i[l-1]<<8|i[l-2]<<16,this.words[p]|=y<<S&67108863,this.words[p+1]=y>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);else if(d==="le")for(l=0,p=0;l<i.length;l+=3)y=i[l]|i[l+1]<<8|i[l+2]<<16,this.words[p]|=y<<S&67108863,this.words[p+1]=y>>>26-S&67108863,S+=24,S>=26&&(S-=26,p++);return this.strip()};function h(b,i,f){for(var d=0,l=Math.min(b.length,f),p=i;p<l;p++){var y=b.charCodeAt(p)-48;d<<=4,y>=49&&y<=54?d|=y-49+10:y>=17&&y<=22?d|=y-17+10:d|=y&15}return d}o.prototype._parseHex=function(i,f){this.length=Math.ceil((i.length-f)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var l,p,y=0;for(d=i.length-6,l=0;d>=f;d-=6)p=h(i,d,d+6),this.words[l]|=p<<y&67108863,this.words[l+1]|=p>>>26-y&4194303,y+=24,y>=26&&(y-=26,l++);d+6!==f&&(p=h(i,f,d+6),this.words[l]|=p<<y&67108863,this.words[l+1]|=p>>>26-y&4194303),this.strip()};function M(b,i,f,d){for(var l=0,p=Math.min(b.length,f),y=i;y<p;y++){var S=b.charCodeAt(y)-48;l*=d,S>=49?l+=S-49+10:S>=17?l+=S-17+10:l+=S}return l}o.prototype._parseBase=function(i,f,d){this.words=[0],this.length=1;for(var l=0,p=1;p<=67108863;p*=f)l++;l--,p=p/f|0;for(var y=i.length-d,S=y%l,m=Math.min(y,y-S)+d,a=0,_=d;_<m;_+=l)a=M(i,_,_+l,f),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var U=1;for(a=M(i,_,i.length,f),_=0;_<S;_++)U*=f;this.imuln(U),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},o.prototype.copy=function(i){i.words=new Array(this.length);for(var f=0;f<this.length;f++)i.words[f]=this.words[f];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,f){i=i||10,f=f|0||1;var d;if(i===16||i==="hex"){d="";for(var l=0,p=0,y=0;y<this.length;y++){var S=this.words[y],m=((S<<l|p)&16777215).toString(16);p=S>>>24-l&16777215,p!==0||y!==this.length-1?d=T[6-m.length]+m+d:d=m+d,l+=2,l>=26&&(l-=26,y--)}for(p!==0&&(d=p.toString(16)+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(i===(i|0)&&i>=2&&i<=36){var a=x[i],_=O[i];d="";var U=this.clone();for(U.negative=0;!U.isZero();){var D=U.modn(_).toString(i);U=U.idivn(_),U.isZero()?d=D+d:d=T[a-D.length]+D+d}for(this.isZero()&&(d="0"+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,f){return n(typeof g<"u"),this.toArrayLike(g,i,f)},o.prototype.toArray=function(i,f){return this.toArrayLike(Array,i,f)},o.prototype.toArrayLike=function(i,f,d){var l=this.byteLength(),p=d||Math.max(1,l);n(l<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var y=f==="le",S=new i(p),m,a,_=this.clone();if(y){for(a=0;!_.isZero();a++)m=_.andln(255),_.iushrn(8),S[a]=m;for(;a<p;a++)S[a]=0}else{for(a=0;a<p-l;a++)S[a]=0;for(a=0;!_.isZero();a++)m=_.andln(255),_.iushrn(8),S[p-a-1]=m}return S},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var f=i,d=0;return f>=4096&&(d+=13,f>>>=13),f>=64&&(d+=7,f>>>=7),f>=8&&(d+=4,f>>>=4),f>=2&&(d+=2,f>>>=2),d+f},o.prototype._zeroBits=function(i){if(i===0)return 26;var f=i,d=0;return(f&8191)===0&&(d+=13,f>>>=13),(f&127)===0&&(d+=7,f>>>=7),(f&15)===0&&(d+=4,f>>>=4),(f&3)===0&&(d+=2,f>>>=2),(f&1)===0&&d++,d},o.prototype.bitLength=function(){var i=this.words[this.length-1],f=this._countBits(i);return(this.length-1)*26+f};function P(b){for(var i=new Array(b.bitLength()),f=0;f<i.length;f++){var d=f/26|0,l=f%26;i[f]=(b.words[d]&1<<l)>>>l}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,f=0;f<this.length;f++){var d=this._zeroBits(this.words[f]);if(i+=d,d!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var f=0;f<i.length;f++)this.words[f]=this.words[f]|i.words[f];return this.strip()},o.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var f;this.length>i.length?f=i:f=this;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]&i.words[d];return this.length=f.length,this.strip()},o.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var f,d;this.length>i.length?(f=this,d=i):(f=i,d=this);for(var l=0;l<d.length;l++)this.words[l]=f.words[l]^d.words[l];if(this!==f)for(;l<f.length;l++)this.words[l]=f.words[l];return this.length=f.length,this.strip()},o.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var f=Math.ceil(i/26)|0,d=i%26;this._expand(f),d>0&&f--;for(var l=0;l<f;l++)this.words[l]=~this.words[l]&67108863;return d>0&&(this.words[l]=~this.words[l]&67108863>>26-d),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,f){n(typeof i=="number"&&i>=0);var d=i/26|0,l=i%26;return this._expand(d+1),f?this.words[d]=this.words[d]|1<<l:this.words[d]=this.words[d]&~(1<<l),this.strip()},o.prototype.iadd=function(i){var f;if(this.negative!==0&&i.negative===0)return this.negative=0,f=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,f=this.isub(i),i.negative=1,f._normSign();var d,l;this.length>i.length?(d=this,l=i):(d=i,l=this);for(var p=0,y=0;y<l.length;y++)f=(d.words[y]|0)+(l.words[y]|0)+p,this.words[y]=f&67108863,p=f>>>26;for(;p!==0&&y<d.length;y++)f=(d.words[y]|0)+p,this.words[y]=f&67108863,p=f>>>26;if(this.length=d.length,p!==0)this.words[this.length]=p,this.length++;else if(d!==this)for(;y<d.length;y++)this.words[y]=d.words[y];return this},o.prototype.add=function(i){var f;return i.negative!==0&&this.negative===0?(i.negative=0,f=this.sub(i),i.negative^=1,f):i.negative===0&&this.negative!==0?(this.negative=0,f=i.sub(this),this.negative=1,f):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var f=this.iadd(i);return i.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var d=this.cmp(i);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,p;d>0?(l=this,p=i):(l=i,p=this);for(var y=0,S=0;S<p.length;S++)f=(l.words[S]|0)-(p.words[S]|0)+y,y=f>>26,this.words[S]=f&67108863;for(;y!==0&&S<l.length;S++)f=(l.words[S]|0)+y,y=f>>26,this.words[S]=f&67108863;if(y===0&&S<l.length&&l!==this)for(;S<l.length;S++)this.words[S]=l.words[S];return this.length=Math.max(this.length,S),l!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function F(b,i,f){f.negative=i.negative^b.negative;var d=b.length+i.length|0;f.length=d,d=d-1|0;var l=b.words[0]|0,p=i.words[0]|0,y=l*p,S=y&67108863,m=y/67108864|0;f.words[0]=S;for(var a=1;a<d;a++){for(var _=m>>>26,U=m&67108863,D=Math.min(a,i.length-1),z=Math.max(0,a-b.length+1);z<=D;z++){var Q=a-z|0;l=b.words[Q]|0,p=i.words[z]|0,y=l*p+U,_+=y/67108864|0,U=y&67108863}f.words[a]=U|0,m=_|0}return m!==0?f.words[a]=m|0:f.length--,f.strip()}var N=function(i,f,d){var l=i.words,p=f.words,y=d.words,S=0,m,a,_,U=l[0]|0,D=U&8191,z=U>>>13,Q=l[1]|0,ee=Q&8191,re=Q>>>13,De=l[2]|0,te=De&8191,oe=De>>>13,Tt=l[3]|0,ue=Tt&8191,se=Tt>>>13,Le=l[4]|0,ce=Le&8191,he=Le>>>13,v=l[5]|0,s=v&8191,u=v>>>13,w=l[6]|0,E=w&8191,k=w>>>13,L=l[7]|0,J=L&8191,K=L>>>13,ie=l[8]|0,Z=ie&8191,G=ie>>>13,Xe=l[9]|0,fe=Xe&8191,le=Xe>>>13,wn=p[0]|0,de=wn&8191,pe=wn>>>13,yn=p[1]|0,ge=yn&8191,me=yn>>>13,bn=p[2]|0,ve=bn&8191,_e=bn>>>13,Mn=p[3]|0,we=Mn&8191,ye=Mn>>>13,En=p[4]|0,be=En&8191,Me=En>>>13,xn=p[5]|0,Ee=xn&8191,xe=xn>>>13,Sn=p[6]|0,Se=Sn&8191,Re=Sn>>>13,Rn=p[7]|0,Ce=Rn&8191,Te=Rn>>>13,Cn=p[8]|0,Ae=Cn&8191,Ie=Cn>>>13,Tn=p[9]|0,ke=Tn&8191,Be=Tn>>>13;d.negative=i.negative^f.negative,d.length=19,m=Math.imul(D,de),a=Math.imul(D,pe),a=a+Math.imul(z,de)|0,_=Math.imul(z,pe);var Zt=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,m=Math.imul(ee,de),a=Math.imul(ee,pe),a=a+Math.imul(re,de)|0,_=Math.imul(re,pe),m=m+Math.imul(D,ge)|0,a=a+Math.imul(D,me)|0,a=a+Math.imul(z,ge)|0,_=_+Math.imul(z,me)|0;var Xt=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,m=Math.imul(te,de),a=Math.imul(te,pe),a=a+Math.imul(oe,de)|0,_=Math.imul(oe,pe),m=m+Math.imul(ee,ge)|0,a=a+Math.imul(ee,me)|0,a=a+Math.imul(re,ge)|0,_=_+Math.imul(re,me)|0,m=m+Math.imul(D,ve)|0,a=a+Math.imul(D,_e)|0,a=a+Math.imul(z,ve)|0,_=_+Math.imul(z,_e)|0;var er=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(ue,de),a=Math.imul(ue,pe),a=a+Math.imul(se,de)|0,_=Math.imul(se,pe),m=m+Math.imul(te,ge)|0,a=a+Math.imul(te,me)|0,a=a+Math.imul(oe,ge)|0,_=_+Math.imul(oe,me)|0,m=m+Math.imul(ee,ve)|0,a=a+Math.imul(ee,_e)|0,a=a+Math.imul(re,ve)|0,_=_+Math.imul(re,_e)|0,m=m+Math.imul(D,we)|0,a=a+Math.imul(D,ye)|0,a=a+Math.imul(z,we)|0,_=_+Math.imul(z,ye)|0;var tr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(ce,de),a=Math.imul(ce,pe),a=a+Math.imul(he,de)|0,_=Math.imul(he,pe),m=m+Math.imul(ue,ge)|0,a=a+Math.imul(ue,me)|0,a=a+Math.imul(se,ge)|0,_=_+Math.imul(se,me)|0,m=m+Math.imul(te,ve)|0,a=a+Math.imul(te,_e)|0,a=a+Math.imul(oe,ve)|0,_=_+Math.imul(oe,_e)|0,m=m+Math.imul(ee,we)|0,a=a+Math.imul(ee,ye)|0,a=a+Math.imul(re,we)|0,_=_+Math.imul(re,ye)|0,m=m+Math.imul(D,be)|0,a=a+Math.imul(D,Me)|0,a=a+Math.imul(z,be)|0,_=_+Math.imul(z,Me)|0;var rr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(s,de),a=Math.imul(s,pe),a=a+Math.imul(u,de)|0,_=Math.imul(u,pe),m=m+Math.imul(ce,ge)|0,a=a+Math.imul(ce,me)|0,a=a+Math.imul(he,ge)|0,_=_+Math.imul(he,me)|0,m=m+Math.imul(ue,ve)|0,a=a+Math.imul(ue,_e)|0,a=a+Math.imul(se,ve)|0,_=_+Math.imul(se,_e)|0,m=m+Math.imul(te,we)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(oe,we)|0,_=_+Math.imul(oe,ye)|0,m=m+Math.imul(ee,be)|0,a=a+Math.imul(ee,Me)|0,a=a+Math.imul(re,be)|0,_=_+Math.imul(re,Me)|0,m=m+Math.imul(D,Ee)|0,a=a+Math.imul(D,xe)|0,a=a+Math.imul(z,Ee)|0,_=_+Math.imul(z,xe)|0;var nr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(E,de),a=Math.imul(E,pe),a=a+Math.imul(k,de)|0,_=Math.imul(k,pe),m=m+Math.imul(s,ge)|0,a=a+Math.imul(s,me)|0,a=a+Math.imul(u,ge)|0,_=_+Math.imul(u,me)|0,m=m+Math.imul(ce,ve)|0,a=a+Math.imul(ce,_e)|0,a=a+Math.imul(he,ve)|0,_=_+Math.imul(he,_e)|0,m=m+Math.imul(ue,we)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(se,we)|0,_=_+Math.imul(se,ye)|0,m=m+Math.imul(te,be)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(oe,be)|0,_=_+Math.imul(oe,Me)|0,m=m+Math.imul(ee,Ee)|0,a=a+Math.imul(ee,xe)|0,a=a+Math.imul(re,Ee)|0,_=_+Math.imul(re,xe)|0,m=m+Math.imul(D,Se)|0,a=a+Math.imul(D,Re)|0,a=a+Math.imul(z,Se)|0,_=_+Math.imul(z,Re)|0;var ir=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(J,de),a=Math.imul(J,pe),a=a+Math.imul(K,de)|0,_=Math.imul(K,pe),m=m+Math.imul(E,ge)|0,a=a+Math.imul(E,me)|0,a=a+Math.imul(k,ge)|0,_=_+Math.imul(k,me)|0,m=m+Math.imul(s,ve)|0,a=a+Math.imul(s,_e)|0,a=a+Math.imul(u,ve)|0,_=_+Math.imul(u,_e)|0,m=m+Math.imul(ce,we)|0,a=a+Math.imul(ce,ye)|0,a=a+Math.imul(he,we)|0,_=_+Math.imul(he,ye)|0,m=m+Math.imul(ue,be)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(se,be)|0,_=_+Math.imul(se,Me)|0,m=m+Math.imul(te,Ee)|0,a=a+Math.imul(te,xe)|0,a=a+Math.imul(oe,Ee)|0,_=_+Math.imul(oe,xe)|0,m=m+Math.imul(ee,Se)|0,a=a+Math.imul(ee,Re)|0,a=a+Math.imul(re,Se)|0,_=_+Math.imul(re,Re)|0,m=m+Math.imul(D,Ce)|0,a=a+Math.imul(D,Te)|0,a=a+Math.imul(z,Ce)|0,_=_+Math.imul(z,Te)|0;var or=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(Z,de),a=Math.imul(Z,pe),a=a+Math.imul(G,de)|0,_=Math.imul(G,pe),m=m+Math.imul(J,ge)|0,a=a+Math.imul(J,me)|0,a=a+Math.imul(K,ge)|0,_=_+Math.imul(K,me)|0,m=m+Math.imul(E,ve)|0,a=a+Math.imul(E,_e)|0,a=a+Math.imul(k,ve)|0,_=_+Math.imul(k,_e)|0,m=m+Math.imul(s,we)|0,a=a+Math.imul(s,ye)|0,a=a+Math.imul(u,we)|0,_=_+Math.imul(u,ye)|0,m=m+Math.imul(ce,be)|0,a=a+Math.imul(ce,Me)|0,a=a+Math.imul(he,be)|0,_=_+Math.imul(he,Me)|0,m=m+Math.imul(ue,Ee)|0,a=a+Math.imul(ue,xe)|0,a=a+Math.imul(se,Ee)|0,_=_+Math.imul(se,xe)|0,m=m+Math.imul(te,Se)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(oe,Se)|0,_=_+Math.imul(oe,Re)|0,m=m+Math.imul(ee,Ce)|0,a=a+Math.imul(ee,Te)|0,a=a+Math.imul(re,Ce)|0,_=_+Math.imul(re,Te)|0,m=m+Math.imul(D,Ae)|0,a=a+Math.imul(D,Ie)|0,a=a+Math.imul(z,Ae)|0,_=_+Math.imul(z,Ie)|0;var ar=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(fe,de),a=Math.imul(fe,pe),a=a+Math.imul(le,de)|0,_=Math.imul(le,pe),m=m+Math.imul(Z,ge)|0,a=a+Math.imul(Z,me)|0,a=a+Math.imul(G,ge)|0,_=_+Math.imul(G,me)|0,m=m+Math.imul(J,ve)|0,a=a+Math.imul(J,_e)|0,a=a+Math.imul(K,ve)|0,_=_+Math.imul(K,_e)|0,m=m+Math.imul(E,we)|0,a=a+Math.imul(E,ye)|0,a=a+Math.imul(k,we)|0,_=_+Math.imul(k,ye)|0,m=m+Math.imul(s,be)|0,a=a+Math.imul(s,Me)|0,a=a+Math.imul(u,be)|0,_=_+Math.imul(u,Me)|0,m=m+Math.imul(ce,Ee)|0,a=a+Math.imul(ce,xe)|0,a=a+Math.imul(he,Ee)|0,_=_+Math.imul(he,xe)|0,m=m+Math.imul(ue,Se)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(se,Se)|0,_=_+Math.imul(se,Re)|0,m=m+Math.imul(te,Ce)|0,a=a+Math.imul(te,Te)|0,a=a+Math.imul(oe,Ce)|0,_=_+Math.imul(oe,Te)|0,m=m+Math.imul(ee,Ae)|0,a=a+Math.imul(ee,Ie)|0,a=a+Math.imul(re,Ae)|0,_=_+Math.imul(re,Ie)|0,m=m+Math.imul(D,ke)|0,a=a+Math.imul(D,Be)|0,a=a+Math.imul(z,ke)|0,_=_+Math.imul(z,Be)|0;var sr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(fe,ge),a=Math.imul(fe,me),a=a+Math.imul(le,ge)|0,_=Math.imul(le,me),m=m+Math.imul(Z,ve)|0,a=a+Math.imul(Z,_e)|0,a=a+Math.imul(G,ve)|0,_=_+Math.imul(G,_e)|0,m=m+Math.imul(J,we)|0,a=a+Math.imul(J,ye)|0,a=a+Math.imul(K,we)|0,_=_+Math.imul(K,ye)|0,m=m+Math.imul(E,be)|0,a=a+Math.imul(E,Me)|0,a=a+Math.imul(k,be)|0,_=_+Math.imul(k,Me)|0,m=m+Math.imul(s,Ee)|0,a=a+Math.imul(s,xe)|0,a=a+Math.imul(u,Ee)|0,_=_+Math.imul(u,xe)|0,m=m+Math.imul(ce,Se)|0,a=a+Math.imul(ce,Re)|0,a=a+Math.imul(he,Se)|0,_=_+Math.imul(he,Re)|0,m=m+Math.imul(ue,Ce)|0,a=a+Math.imul(ue,Te)|0,a=a+Math.imul(se,Ce)|0,_=_+Math.imul(se,Te)|0,m=m+Math.imul(te,Ae)|0,a=a+Math.imul(te,Ie)|0,a=a+Math.imul(oe,Ae)|0,_=_+Math.imul(oe,Ie)|0,m=m+Math.imul(ee,ke)|0,a=a+Math.imul(ee,Be)|0,a=a+Math.imul(re,ke)|0,_=_+Math.imul(re,Be)|0;var cr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(fe,ve),a=Math.imul(fe,_e),a=a+Math.imul(le,ve)|0,_=Math.imul(le,_e),m=m+Math.imul(Z,we)|0,a=a+Math.imul(Z,ye)|0,a=a+Math.imul(G,we)|0,_=_+Math.imul(G,ye)|0,m=m+Math.imul(J,be)|0,a=a+Math.imul(J,Me)|0,a=a+Math.imul(K,be)|0,_=_+Math.imul(K,Me)|0,m=m+Math.imul(E,Ee)|0,a=a+Math.imul(E,xe)|0,a=a+Math.imul(k,Ee)|0,_=_+Math.imul(k,xe)|0,m=m+Math.imul(s,Se)|0,a=a+Math.imul(s,Re)|0,a=a+Math.imul(u,Se)|0,_=_+Math.imul(u,Re)|0,m=m+Math.imul(ce,Ce)|0,a=a+Math.imul(ce,Te)|0,a=a+Math.imul(he,Ce)|0,_=_+Math.imul(he,Te)|0,m=m+Math.imul(ue,Ae)|0,a=a+Math.imul(ue,Ie)|0,a=a+Math.imul(se,Ae)|0,_=_+Math.imul(se,Ie)|0,m=m+Math.imul(te,ke)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(oe,ke)|0,_=_+Math.imul(oe,Be)|0;var ur=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(fe,we),a=Math.imul(fe,ye),a=a+Math.imul(le,we)|0,_=Math.imul(le,ye),m=m+Math.imul(Z,be)|0,a=a+Math.imul(Z,Me)|0,a=a+Math.imul(G,be)|0,_=_+Math.imul(G,Me)|0,m=m+Math.imul(J,Ee)|0,a=a+Math.imul(J,xe)|0,a=a+Math.imul(K,Ee)|0,_=_+Math.imul(K,xe)|0,m=m+Math.imul(E,Se)|0,a=a+Math.imul(E,Re)|0,a=a+Math.imul(k,Se)|0,_=_+Math.imul(k,Re)|0,m=m+Math.imul(s,Ce)|0,a=a+Math.imul(s,Te)|0,a=a+Math.imul(u,Ce)|0,_=_+Math.imul(u,Te)|0,m=m+Math.imul(ce,Ae)|0,a=a+Math.imul(ce,Ie)|0,a=a+Math.imul(he,Ae)|0,_=_+Math.imul(he,Ie)|0,m=m+Math.imul(ue,ke)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(se,ke)|0,_=_+Math.imul(se,Be)|0;var fr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(fe,be),a=Math.imul(fe,Me),a=a+Math.imul(le,be)|0,_=Math.imul(le,Me),m=m+Math.imul(Z,Ee)|0,a=a+Math.imul(Z,xe)|0,a=a+Math.imul(G,Ee)|0,_=_+Math.imul(G,xe)|0,m=m+Math.imul(J,Se)|0,a=a+Math.imul(J,Re)|0,a=a+Math.imul(K,Se)|0,_=_+Math.imul(K,Re)|0,m=m+Math.imul(E,Ce)|0,a=a+Math.imul(E,Te)|0,a=a+Math.imul(k,Ce)|0,_=_+Math.imul(k,Te)|0,m=m+Math.imul(s,Ae)|0,a=a+Math.imul(s,Ie)|0,a=a+Math.imul(u,Ae)|0,_=_+Math.imul(u,Ie)|0,m=m+Math.imul(ce,ke)|0,a=a+Math.imul(ce,Be)|0,a=a+Math.imul(he,ke)|0,_=_+Math.imul(he,Be)|0;var lr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(fe,Ee),a=Math.imul(fe,xe),a=a+Math.imul(le,Ee)|0,_=Math.imul(le,xe),m=m+Math.imul(Z,Se)|0,a=a+Math.imul(Z,Re)|0,a=a+Math.imul(G,Se)|0,_=_+Math.imul(G,Re)|0,m=m+Math.imul(J,Ce)|0,a=a+Math.imul(J,Te)|0,a=a+Math.imul(K,Ce)|0,_=_+Math.imul(K,Te)|0,m=m+Math.imul(E,Ae)|0,a=a+Math.imul(E,Ie)|0,a=a+Math.imul(k,Ae)|0,_=_+Math.imul(k,Ie)|0,m=m+Math.imul(s,ke)|0,a=a+Math.imul(s,Be)|0,a=a+Math.imul(u,ke)|0,_=_+Math.imul(u,Be)|0;var hr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(fe,Se),a=Math.imul(fe,Re),a=a+Math.imul(le,Se)|0,_=Math.imul(le,Re),m=m+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Te)|0,a=a+Math.imul(G,Ce)|0,_=_+Math.imul(G,Te)|0,m=m+Math.imul(J,Ae)|0,a=a+Math.imul(J,Ie)|0,a=a+Math.imul(K,Ae)|0,_=_+Math.imul(K,Ie)|0,m=m+Math.imul(E,ke)|0,a=a+Math.imul(E,Be)|0,a=a+Math.imul(k,ke)|0,_=_+Math.imul(k,Be)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(fe,Ce),a=Math.imul(fe,Te),a=a+Math.imul(le,Ce)|0,_=Math.imul(le,Te),m=m+Math.imul(Z,Ae)|0,a=a+Math.imul(Z,Ie)|0,a=a+Math.imul(G,Ae)|0,_=_+Math.imul(G,Ie)|0,m=m+Math.imul(J,ke)|0,a=a+Math.imul(J,Be)|0,a=a+Math.imul(K,ke)|0,_=_+Math.imul(K,Be)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(fe,Ae),a=Math.imul(fe,Ie),a=a+Math.imul(le,Ae)|0,_=Math.imul(le,Ie),m=m+Math.imul(Z,ke)|0,a=a+Math.imul(Z,Be)|0,a=a+Math.imul(G,ke)|0,_=_+Math.imul(G,Be)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(fe,ke),a=Math.imul(fe,Be),a=a+Math.imul(le,ke)|0,_=Math.imul(le,Be);var mr=(S+m|0)+((a&8191)<<13)|0;return S=(_+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,y[0]=Zt,y[1]=Xt,y[2]=er,y[3]=tr,y[4]=rr,y[5]=nr,y[6]=ir,y[7]=or,y[8]=ar,y[9]=sr,y[10]=cr,y[11]=ur,y[12]=fr,y[13]=lr,y[14]=hr,y[15]=dr,y[16]=pr,y[17]=gr,y[18]=mr,S!==0&&(y[19]=S,d.length++),d};Math.imul||(N=F);function q(b,i,f){f.negative=i.negative^b.negative,f.length=b.length+i.length;for(var d=0,l=0,p=0;p<f.length-1;p++){var y=l;l=0;for(var S=d&67108863,m=Math.min(p,i.length-1),a=Math.max(0,p-b.length+1);a<=m;a++){var _=p-a,U=b.words[_]|0,D=i.words[a]|0,z=U*D,Q=z&67108863;y=y+(z/67108864|0)|0,Q=Q+S|0,S=Q&67108863,y=y+(Q>>>26)|0,l+=y>>>26,y&=67108863}f.words[p]=S,d=y,y=l}return d!==0?f.words[p]=d:f.length--,f.strip()}function R(b,i,f){var d=new C;return d.mulp(b,i,f)}o.prototype.mulTo=function(i,f){var d,l=this.length+i.length;return this.length===10&&i.length===10?d=N(this,i,f):l<63?d=F(this,i,f):l<1024?d=q(this,i,f):d=R(this,i,f),d};function C(b,i){this.x=b,this.y=i}C.prototype.makeRBT=function(i){for(var f=new Array(i),d=o.prototype._countBits(i)-1,l=0;l<i;l++)f[l]=this.revBin(l,d,i);return f},C.prototype.revBin=function(i,f,d){if(i===0||i===d-1)return i;for(var l=0,p=0;p<f;p++)l|=(i&1)<<f-p-1,i>>=1;return l},C.prototype.permute=function(i,f,d,l,p,y){for(var S=0;S<y;S++)l[S]=f[i[S]],p[S]=d[i[S]]},C.prototype.transform=function(i,f,d,l,p,y){this.permute(y,i,f,d,l,p);for(var S=1;S<p;S<<=1)for(var m=S<<1,a=Math.cos(2*Math.PI/m),_=Math.sin(2*Math.PI/m),U=0;U<p;U+=m)for(var D=a,z=_,Q=0;Q<S;Q++){var ee=d[U+Q],re=l[U+Q],De=d[U+Q+S],te=l[U+Q+S],oe=D*De-z*te;te=D*te+z*De,De=oe,d[U+Q]=ee+De,l[U+Q]=re+te,d[U+Q+S]=ee-De,l[U+Q+S]=re-te,Q!==m&&(oe=a*D-_*z,z=a*z+_*D,D=oe)}},C.prototype.guessLen13b=function(i,f){var d=Math.max(f,i)|1,l=d&1,p=0;for(d=d/2|0;d;d=d>>>1)p++;return 1<<p+1+l},C.prototype.conjugate=function(i,f,d){if(!(d<=1))for(var l=0;l<d/2;l++){var p=i[l];i[l]=i[d-l-1],i[d-l-1]=p,p=f[l],f[l]=-f[d-l-1],f[d-l-1]=-p}},C.prototype.normalize13b=function(i,f){for(var d=0,l=0;l<f/2;l++){var p=Math.round(i[2*l+1]/f)*8192+Math.round(i[2*l]/f)+d;i[l]=p&67108863,p<67108864?d=0:d=p/67108864|0}return i},C.prototype.convert13b=function(i,f,d,l){for(var p=0,y=0;y<f;y++)p=p+(i[y]|0),d[2*y]=p&8191,p=p>>>13,d[2*y+1]=p&8191,p=p>>>13;for(y=2*f;y<l;++y)d[y]=0;n(p===0),n((p&-8192)===0)},C.prototype.stub=function(i){for(var f=new Array(i),d=0;d<i;d++)f[d]=0;return f},C.prototype.mulp=function(i,f,d){var l=2*this.guessLen13b(i.length,f.length),p=this.makeRBT(l),y=this.stub(l),S=new Array(l),m=new Array(l),a=new Array(l),_=new Array(l),U=new Array(l),D=new Array(l),z=d.words;z.length=l,this.convert13b(i.words,i.length,S,l),this.convert13b(f.words,f.length,_,l),this.transform(S,y,m,a,l,p),this.transform(_,y,U,D,l,p);for(var Q=0;Q<l;Q++){var ee=m[Q]*U[Q]-a[Q]*D[Q];a[Q]=m[Q]*D[Q]+a[Q]*U[Q],m[Q]=ee}return this.conjugate(m,a,l),this.transform(m,a,z,y,l,p),this.conjugate(z,y,l),this.normalize13b(z,l),d.negative=i.negative^f.negative,d.length=i.length+f.length,d.strip()},o.prototype.mul=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),this.mulTo(i,f)},o.prototype.mulf=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),R(this,i,f)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){n(typeof i=="number"),n(i<67108864);for(var f=0,d=0;d<this.length;d++){var l=(this.words[d]|0)*i,p=(l&67108863)+(f&67108863);f>>=26,f+=l/67108864|0,f+=p>>>26,this.words[d]=p&67108863}return f!==0&&(this.words[d]=f,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var f=P(i);if(f.length===0)return new o(1);for(var d=this,l=0;l<f.length&&f[l]===0;l++,d=d.sqr());if(++l<f.length)for(var p=d.sqr();l<f.length;l++,p=p.sqr())f[l]!==0&&(d=d.mul(p));return d},o.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var f=i%26,d=(i-f)/26,l=67108863>>>26-f<<26-f,p;if(f!==0){var y=0;for(p=0;p<this.length;p++){var S=this.words[p]&l,m=(this.words[p]|0)-S<<f;this.words[p]=m|y,y=S>>>26-f}y&&(this.words[p]=y,this.length++)}if(d!==0){for(p=this.length-1;p>=0;p--)this.words[p+d]=this.words[p];for(p=0;p<d;p++)this.words[p]=0;this.length+=d}return this.strip()},o.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,f,d){n(typeof i=="number"&&i>=0);var l;f?l=(f-f%26)/26:l=0;var p=i%26,y=Math.min((i-p)/26,this.length),S=67108863^67108863>>>p<<p,m=d;if(l-=y,l=Math.max(0,l),m){for(var a=0;a<y;a++)m.words[a]=this.words[a];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var _=0;for(a=this.length-1;a>=0&&(_!==0||a>=l);a--){var U=this.words[a]|0;this.words[a]=_<<26-p|U>>>p,_=U&S}return m&&_!==0&&(m.words[m.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,f,d){return n(this.negative===0),this.iushrn(i,f,d)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,d=(i-f)/26,l=1<<f;if(this.length<=d)return!1;var p=this.words[d];return!!(p&l)},o.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,d=(i-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(f!==0&&d++,this.length=Math.min(d,this.length),f!==0){var l=67108863^67108863>>>f<<f;this.words[this.length-1]&=l}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,f,d){var l=i.length+d,p;this._expand(l);var y,S=0;for(p=0;p<i.length;p++){y=(this.words[p+d]|0)+S;var m=(i.words[p]|0)*f;y-=m&67108863,S=(y>>26)-(m/67108864|0),this.words[p+d]=y&67108863}for(;p<this.length-d;p++)y=(this.words[p+d]|0)+S,S=y>>26,this.words[p+d]=y&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,p=0;p<this.length;p++)y=-(this.words[p]|0)+S,S=y>>26,this.words[p]=y&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,f){var d=this.length-i.length,l=this.clone(),p=i,y=p.words[p.length-1]|0,S=this._countBits(y);d=26-S,d!==0&&(p=p.ushln(d),l.iushln(d),y=p.words[p.length-1]|0);var m=l.length-p.length,a;if(f!=="mod"){a=new o(null),a.length=m+1,a.words=new Array(a.length);for(var _=0;_<a.length;_++)a.words[_]=0}var U=l.clone()._ishlnsubmul(p,1,m);U.negative===0&&(l=U,a&&(a.words[m]=1));for(var D=m-1;D>=0;D--){var z=(l.words[p.length+D]|0)*67108864+(l.words[p.length+D-1]|0);for(z=Math.min(z/y|0,67108863),l._ishlnsubmul(p,z,D);l.negative!==0;)z--,l.negative=0,l._ishlnsubmul(p,1,D),l.isZero()||(l.negative^=1);a&&(a.words[D]=z)}return a&&a.strip(),l.strip(),f!=="div"&&d!==0&&l.iushrn(d),{div:a||null,mod:l}},o.prototype.divmod=function(i,f,d){if(n(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var l,p,y;return this.negative!==0&&i.negative===0?(y=this.neg().divmod(i,f),f!=="mod"&&(l=y.div.neg()),f!=="div"&&(p=y.mod.neg(),d&&p.negative!==0&&p.iadd(i)),{div:l,mod:p}):this.negative===0&&i.negative!==0?(y=this.divmod(i.neg(),f),f!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):(this.negative&i.negative)!==0?(y=this.neg().divmod(i.neg(),f),f!=="div"&&(p=y.mod.neg(),d&&p.negative!==0&&p.isub(i)),{div:y.div,mod:p}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?f==="div"?{div:this.divn(i.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,f)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var f=this.divmod(i);if(f.mod.isZero())return f.div;var d=f.div.negative!==0?f.mod.isub(i):f.mod,l=i.ushrn(1),p=i.andln(1),y=d.cmp(l);return y<0||p===1&&y===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modn=function(i){n(i<=67108863);for(var f=(1<<26)%i,d=0,l=this.length-1;l>=0;l--)d=(f*d+(this.words[l]|0))%i;return d},o.prototype.idivn=function(i){n(i<=67108863);for(var f=0,d=this.length-1;d>=0;d--){var l=(this.words[d]|0)+f*67108864;this.words[d]=l/i|0,f=l%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var f=this,d=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var l=new o(1),p=new o(0),y=new o(0),S=new o(1),m=0;f.isEven()&&d.isEven();)f.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),_=f.clone();!f.isZero();){for(var U=0,D=1;(f.words[0]&D)===0&&U<26;++U,D<<=1);if(U>0)for(f.iushrn(U);U-- >0;)(l.isOdd()||p.isOdd())&&(l.iadd(a),p.isub(_)),l.iushrn(1),p.iushrn(1);for(var z=0,Q=1;(d.words[0]&Q)===0&&z<26;++z,Q<<=1);if(z>0)for(d.iushrn(z);z-- >0;)(y.isOdd()||S.isOdd())&&(y.iadd(a),S.isub(_)),y.iushrn(1),S.iushrn(1);f.cmp(d)>=0?(f.isub(d),l.isub(y),p.isub(S)):(d.isub(f),y.isub(l),S.isub(p))}return{a:y,b:S,gcd:d.iushln(m)}},o.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var f=this,d=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var l=new o(1),p=new o(0),y=d.clone();f.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,m=1;(f.words[0]&m)===0&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var a=0,_=1;(d.words[0]&_)===0&&a<26;++a,_<<=1);if(a>0)for(d.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(y),p.iushrn(1);f.cmp(d)>=0?(f.isub(d),l.isub(p)):(d.isub(f),p.isub(l))}var U;return f.cmpn(1)===0?U=l:U=p,U.cmpn(0)<0&&U.iadd(i),U},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var f=this.clone(),d=i.clone();f.negative=0,d.negative=0;for(var l=0;f.isEven()&&d.isEven();l++)f.iushrn(1),d.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;d.isEven();)d.iushrn(1);var p=f.cmp(d);if(p<0){var y=f;f=d,d=y}else if(p===0||d.cmpn(1)===0)break;f.isub(d)}while(!0);return d.iushln(l)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){n(typeof i=="number");var f=i%26,d=(i-f)/26,l=1<<f;if(this.length<=d)return this._expand(d+1),this.words[d]|=l,this;for(var p=l,y=d;p!==0&&y<this.length;y++){var S=this.words[y]|0;S+=p,p=S>>>26,S&=67108863,this.words[y]=S}return p!==0&&(this.words[y]=p,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var f=i<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var d;if(this.length>1)d=1;else{f&&(i=-i),n(i<=67108863,"Number is too big");var l=this.words[0]|0;d=l===i?0:l<i?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var f=this.ucmp(i);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var f=0,d=this.length-1;d>=0;d--){var l=this.words[d]|0,p=i.words[d]|0;if(l!==p){l<p?f=-1:l>p&&(f=1);break}}return f},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new j(i)},o.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var I={k256:null,p224:null,p192:null,p25519:null};function A(b,i){this.name=b,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},A.prototype.ireduce=function(i){var f=i,d;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),d=f.bitLength();while(d>this.n);var l=d<this.n?-1:f.ucmp(this.p);return l===0?(f.words[0]=0,f.length=1):l>0?f.isub(this.p):f.strip(),f},A.prototype.split=function(i,f){i.iushrn(this.n,0,f)},A.prototype.imulK=function(i){return i.imul(this.k)};function B(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(B,A),B.prototype.split=function(i,f){for(var d=4194303,l=Math.min(i.length,9),p=0;p<l;p++)f.words[p]=i.words[p];if(f.length=l,i.length<=9){i.words[0]=0,i.length=1;return}var y=i.words[9];for(f.words[f.length++]=y&d,p=10;p<i.length;p++){var S=i.words[p]|0;i.words[p-10]=(S&d)<<4|y>>>22,y=S}y>>>=22,i.words[p-10]=y,y===0&&i.length>10?i.length-=10:i.length-=9},B.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var f=0,d=0;d<i.length;d++){var l=i.words[d]|0;f+=l*977,i.words[d]=f&67108863,f=l*64+(f/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function H(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(H,A);function W(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(W,A);function V(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(V,A),V.prototype.imulK=function(i){for(var f=0,d=0;d<i.length;d++){var l=(i.words[d]|0)*19+f,p=l&67108863;l>>>=26,i.words[d]=p,f=l}return f!==0&&(i.words[i.length++]=f),i},o._prime=function(i){if(I[i])return I[i];var f;if(i==="k256")f=new B;else if(i==="p224")f=new H;else if(i==="p192")f=new W;else if(i==="p25519")f=new V;else throw new Error("Unknown prime "+i);return I[i]=f,f};function j(b){if(typeof b=="string"){var i=o._prime(b);this.m=i.p,this.prime=i}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}j.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},j.prototype._verify2=function(i,f){n((i.negative|f.negative)===0,"red works only with positives"),n(i.red&&i.red===f.red,"red works only with red numbers")},j.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},j.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},j.prototype.add=function(i,f){this._verify2(i,f);var d=i.add(f);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},j.prototype.iadd=function(i,f){this._verify2(i,f);var d=i.iadd(f);return d.cmp(this.m)>=0&&d.isub(this.m),d},j.prototype.sub=function(i,f){this._verify2(i,f);var d=i.sub(f);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},j.prototype.isub=function(i,f){this._verify2(i,f);var d=i.isub(f);return d.cmpn(0)<0&&d.iadd(this.m),d},j.prototype.shl=function(i,f){return this._verify1(i),this.imod(i.ushln(f))},j.prototype.imul=function(i,f){return this._verify2(i,f),this.imod(i.imul(f))},j.prototype.mul=function(i,f){return this._verify2(i,f),this.imod(i.mul(f))},j.prototype.isqr=function(i){return this.imul(i,i.clone())},j.prototype.sqr=function(i){return this.mul(i,i)},j.prototype.sqrt=function(i){if(i.isZero())return i.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(i,d)}for(var l=this.m.subn(1),p=0;!l.isZero()&&l.andln(1)===0;)p++,l.iushrn(1);n(!l.isZero());var y=new o(1).toRed(this),S=y.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var _=this.pow(a,l),U=this.pow(i,l.addn(1).iushrn(1)),D=this.pow(i,l),z=p;D.cmp(y)!==0;){for(var Q=D,ee=0;Q.cmp(y)!==0;ee++)Q=Q.redSqr();n(ee<z);var re=this.pow(_,new o(1).iushln(z-ee-1));U=U.redMul(re),_=re.redSqr(),D=D.redMul(_),z=ee}return U},j.prototype.invm=function(i){var f=i._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},j.prototype.pow=function(i,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return i.clone();var d=4,l=new Array(1<<d);l[0]=new o(1).toRed(this),l[1]=i;for(var p=2;p<l.length;p++)l[p]=this.mul(l[p-1],i);var y=l[0],S=0,m=0,a=f.bitLength()%26;for(a===0&&(a=26),p=f.length-1;p>=0;p--){for(var _=f.words[p],U=a-1;U>=0;U--){var D=_>>U&1;if(y!==l[0]&&(y=this.sqr(y)),D===0&&S===0){m=0;continue}S<<=1,S|=D,m++,!(m!==d&&(p!==0||U!==0))&&(y=this.mul(y,l[S]),m=0,S=0)}a=26}return y},j.prototype.convertTo=function(i){var f=i.umod(this.m);return f===i?f.clone():f},j.prototype.convertFrom=function(i){var f=i.clone();return f.red=null,f},o.mont=function(i){return new ne(i)};function ne(b){j.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(ne,j),ne.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},ne.prototype.convertFrom=function(i){var f=this.imod(i.mul(this.rinv));return f.red=null,f},ne.prototype.imul=function(i,f){if(i.isZero()||f.isZero())return i.words[0]=0,i.length=1,i;var d=i.imul(f),l=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=d.isub(l).iushrn(this.shift),y=p;return p.cmp(this.m)>=0?y=p.isub(this.m):p.cmpn(0)<0&&(y=p.iadd(this.m)),y._forceRed(this)},ne.prototype.mul=function(i,f){if(i.isZero()||f.isZero())return new o(0)._forceRed(this);var d=i.mul(f),l=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=d.isub(l).iushrn(this.shift),y=p;return p.cmp(this.m)>=0?y=p.isub(this.m):p.cmpn(0)<0&&(y=p.iadd(this.m)),y._forceRed(this)},ne.prototype.invm=function(i){var f=this.imod(i._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Pe)})(eo);const Hs=eo.exports;var Ws=Zr;Zr.strict=to;Zr.loose=ro;var zs=Object.prototype.toString,js={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Zr(t){return to(t)||ro(t)}function to(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function ro(t){return js[zs.call(t)]}var Js=Ws.strict,Vs=function(e){if(Js(e)){var r=Ot.Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Ot.Buffer.from(e)};const no="hex",io="utf8",zt="0";function at(t){return new Uint8Array(t)}function oo(t,e=!1){const r=t.toString(no);return e?gt(r):r}function Ks(t){return t.toString(io)}function jt(t){return Vs(t)}function it(t,e=!1){return oo(jt(t),e)}function Ys(t){return Ks(jt(t))}function Qs(t){return Ot.Buffer.from(Ye(t),no)}function ot(t){return at(Qs(t))}function Xr(t){return Ot.Buffer.from(t,io)}function Gs(t){return at(Xr(t))}function Zs(t,e=!1){return oo(Xr(t),e)}function Xs(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function ao(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function ec(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function tc(t,e=8,r=zt){return rc(t,ec(t.length,e),r)}function rc(t,e,r=zt){return ic(t,e,!0,r)}function Ye(t){return t.replace(/^0x/,"")}function gt(t){return t.startsWith("0x")?t:`0x${t}`}function so(t){return t=Ye(t),t=tc(t,2),t&&(t=gt(t)),t}function nc(t){const e=t.startsWith("0x");return t=Ye(t),t=t.startsWith(zt)?t.substring(1):t,e?gt(t):t}function ic(t,e,r,n=zt){const c=e-t.length;let o=t;if(c>0){const g=n.repeat(c);o=r?g+t:t+g}return o}function Br(t){return jt(new Uint8Array(t))}function oc(t,e){return it(new Uint8Array(t),!e)}function ac(t){return at(t).buffer}function sc(t){return Xr(t)}function cc(t,e){return Zs(t,!e)}function uc(t){return ot(t).buffer}function co(t,e){const r=Ye(so(new Hs(t).toString(16)));return e?r:gt(r)}function At(t){return so(t)}function fc(t){return nc(gt(t))}const lc=Si;function vr(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}function hc(t,e){let r;const n=$s[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}function dc(t,e){let r;const n=hc(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}function pc(t){return t===""||typeof t=="string"&&t.trim()===""}function gc(t){return!(t&&t.length)}function uo(t,e){return Xs(t,e)}function mc(t){return typeof t.method<"u"}function vt(t){return typeof t.result<"u"}function Lt(t){return typeof t.error<"u"}function Dn(t){return typeof t.event<"u"}function vc(t){return qs.includes(t)||t.startsWith("wc_")}function _c(t){return t.method.startsWith("wc_")?!0:!Gr.includes(t.method)}function wc(t){t=Ye(t.toLowerCase());const e=Ye(Sa.exports.keccak_256(sc(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return gt(r)}const yc=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===wc(t):!1:!1;function qn(t){return!gc(t)&&!uo(t[0])&&(t[0]=cc(t[0])),t}function _r(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!yc(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(c){let o=c;return(typeof c=="number"||typeof c=="string"&&!pc(c))&&(uo(c)?typeof c=="string"&&(o=At(c)):o=co(c)),typeof o=="string"&&(o=fc(o)),o}const r={from:At(t.from),to:typeof t.to>"u"?void 0:At(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":At(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(c=>{(typeof r[c]>"u"||typeof r[c]=="string"&&!r[c].trim().length)&&n.includes(c)&&delete r[c]}),r}function bc(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}return{code:r,message:e}}var en={},Mc=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),fo="%[a-f0-9]{2}",$n=new RegExp(fo,"gi"),Hn=new RegExp("("+fo+")+","gi");function Or(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Or(r),Or(n))}function Ec(t){try{return decodeURIComponent(t)}catch{for(var e=t.match($n),r=1;r<e.length;r++)t=Or(e,r).join(""),e=t.match($n);return t}}function xc(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Hn.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Ec(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Hn.exec(t)}e["%C2"]="\uFFFD";for(var c=Object.keys(e),o=0;o<c.length;o++){var g=c[o];t=t.replace(new RegExp(g,"g"),e[g])}return t}var Sc=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return xc(t)}},Rc=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]};(function(t){const e=Mc,r=Sc,n=Rc,c=R=>R==null;function o(R){switch(R.arrayFormat){case"index":return C=>(I,A)=>{const B=I.length;return A===void 0||R.skipNull&&A===null||R.skipEmptyString&&A===""?I:A===null?[...I,[M(C,R),"[",B,"]"].join("")]:[...I,[M(C,R),"[",M(B,R),"]=",M(A,R)].join("")]};case"bracket":return C=>(I,A)=>A===void 0||R.skipNull&&A===null||R.skipEmptyString&&A===""?I:A===null?[...I,[M(C,R),"[]"].join("")]:[...I,[M(C,R),"[]=",M(A,R)].join("")];case"comma":case"separator":return C=>(I,A)=>A==null||A.length===0?I:I.length===0?[[M(C,R),"=",M(A,R)].join("")]:[[I,M(A,R)].join(R.arrayFormatSeparator)];default:return C=>(I,A)=>A===void 0||R.skipNull&&A===null||R.skipEmptyString&&A===""?I:A===null?[...I,M(C,R)]:[...I,[M(C,R),"=",M(A,R)].join("")]}}function g(R){let C;switch(R.arrayFormat){case"index":return(I,A,B)=>{if(C=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!C){B[I]=A;return}B[I]===void 0&&(B[I]={}),B[I][C[1]]=A};case"bracket":return(I,A,B)=>{if(C=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!C){B[I]=A;return}if(B[I]===void 0){B[I]=[A];return}B[I]=[].concat(B[I],A)};case"comma":case"separator":return(I,A,B)=>{const W=typeof A=="string"&&A.split("").indexOf(R.arrayFormatSeparator)>-1?A.split(R.arrayFormatSeparator).map(V=>T(V,R)):A===null?A:T(A,R);B[I]=W};default:return(I,A,B)=>{if(B[I]===void 0){B[I]=A;return}B[I]=[].concat(B[I],A)}}}function h(R){if(typeof R!="string"||R.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function M(R,C){return C.encode?C.strict?e(R):encodeURIComponent(R):R}function T(R,C){return C.decode?r(R):R}function x(R){return Array.isArray(R)?R.sort():typeof R=="object"?x(Object.keys(R)).sort((C,I)=>Number(C)-Number(I)).map(C=>R[C]):R}function O(R){const C=R.indexOf("#");return C!==-1&&(R=R.slice(0,C)),R}function P(R){let C="";const I=R.indexOf("#");return I!==-1&&(C=R.slice(I)),C}function F(R){R=O(R);const C=R.indexOf("?");return C===-1?"":R.slice(C+1)}function N(R,C){return C.parseNumbers&&!Number.isNaN(Number(R))&&typeof R=="string"&&R.trim()!==""?R=Number(R):C.parseBooleans&&R!==null&&(R.toLowerCase()==="true"||R.toLowerCase()==="false")&&(R=R.toLowerCase()==="true"),R}function q(R,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),h(C.arrayFormatSeparator);const I=g(C),A=Object.create(null);if(typeof R!="string"||(R=R.trim().replace(/^[?#&]/,""),!R))return A;for(const B of R.split("&")){let[H,W]=n(C.decode?B.replace(/\+/g," "):B,"=");W=W===void 0?null:["comma","separator"].includes(C.arrayFormat)?W:T(W,C),I(T(H,C),W,A)}for(const B of Object.keys(A)){const H=A[B];if(typeof H=="object"&&H!==null)for(const W of Object.keys(H))H[W]=N(H[W],C);else A[B]=N(H,C)}return C.sort===!1?A:(C.sort===!0?Object.keys(A).sort():Object.keys(A).sort(C.sort)).reduce((B,H)=>{const W=A[H];return Boolean(W)&&typeof W=="object"&&!Array.isArray(W)?B[H]=x(W):B[H]=W,B},Object.create(null))}t.extract=F,t.parse=q,t.stringify=(R,C)=>{if(!R)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),h(C.arrayFormatSeparator);const I=W=>C.skipNull&&c(R[W])||C.skipEmptyString&&R[W]==="",A=o(C),B={};for(const W of Object.keys(R))I(W)||(B[W]=R[W]);const H=Object.keys(B);return C.sort!==!1&&H.sort(C.sort),H.map(W=>{const V=R[W];return V===void 0?"":V===null?M(W,C):Array.isArray(V)?V.reduce(A(W),[]).join("&"):M(W,C)+"="+M(V,C)}).filter(W=>W.length>0).join("&")},t.parseUrl=(R,C)=>{C=Object.assign({decode:!0},C);const[I,A]=n(R,"#");return Object.assign({url:I.split("?")[0]||"",query:q(F(R),C)},C&&C.parseFragmentIdentifier&&A?{fragmentIdentifier:T(A,C)}:{})},t.stringifyUrl=(R,C)=>{C=Object.assign({encode:!0,strict:!0},C);const I=O(R.url).split("?")[0]||"",A=t.extract(R.url),B=t.parse(A,{sort:!1}),H=Object.assign(B,R.query);let W=t.stringify(H,C);W&&(W=`?${W}`);let V=P(R.url);return R.fragmentIdentifier&&(V=`#${M(R.fragmentIdentifier,C)}`),`${I}${W}${V}`}})(en);function Cc(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function Tc(t,e){let r=lo(t);return r=Object.assign(Object.assign({},r),e),t=Ac(r),t}function lo(t){return en.parse(t)}function Ac(t){return en.stringify(t)}function Ic(t){return typeof t.bridge<"u"}function kc(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),c=t.substring(e+1,r);function o(O){const P="@",F=O.split(P);return{handshakeTopic:F[0],version:parseInt(F[1],10)}}const g=o(c),h=typeof r<"u"?t.substr(r):"";function M(O){const P=lo(O);return{key:P.key||"",bridge:P.bridge||""}}const T=M(h);return Object.assign(Object.assign({protocol:n},g),T)}var wr,Wn;function Bc(){return Wn||(Wn=1,wr=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),wr}class Oc{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}const Nc=typeof An.WebSocket<"u"?An.WebSocket:Bc();class Lc{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Oc,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=Uc(this._url,this._protocol,this._version);if(this._nextSocket=new Nc(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(c=>c.event==="message");n&&n.length&&n.forEach(c=>c.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function Uc(t,e,r){var n,c;const g=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),h=Ji()?{protocol:e,version:r,env:"browser",host:((n=Ki())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((c=$t())===null||c===void 0?void 0:c.name)||""},M=Tc(Cc(g[1]||""),h);return g[0]+"?"+M}const yr="Session currently connected",et="Session currently disconnected",Pc="Session Rejected",Fc="Missing JSON RPC response",Dc='JSON-RPC success response must include "result" field',qc='JSON-RPC error response must include "error" field',$c='JSON RPC request must have valid "method" value',Hc='JSON RPC request must have valid "id" value',Wc="Missing one of the required parameters: bridge / uri / session",zn="JSON RPC response format is invalid",zc="URI format is invalid",jc="QRCode Modal not provided",jn="User close QRCode Modal";class Jc{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;mc(e)?n=e.method:vt(e)||Lt(e)?n=`response:${e.id}`:Dn(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(c=>c.event===n)),(!r||!r.length)&&!vc(n)&&!Dn(n)&&(r=this._eventEmitters.filter(c=>c.event==="call_request")),r.forEach(c=>{if(Lt(e)){const o=new Error(e.error.message);c.callback(o,null)}else c.callback(null,e)})}}class Vc{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=Yr(this.storageId);return r&&Ic(r)&&(e=r),e}setSession(e){return Kr(this.storageId,e),e}removeSession(){Qr(this.storageId)}}const Kc="walletconnect.org",Yc="abcdefghijklmnopqrstuvwxyz0123456789",ho=Yc.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function Qc(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Gc(t){return Qc(t).split(".").slice(-2).join(".")}function Zc(){return Math.floor(Math.random()*ho.length)}function Xc(){return ho[Zc()]}function eu(t){return Gc(t)===Kc}function tu(t){return eu(t)?Xc():t}class ru{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Jc,this._clientMeta=kr()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Vc(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Gr,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Wc);e.connectorOpts.bridge&&(this.bridge=tu(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Lc({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=uc(e);this._key=r}get key(){return this._key?oc(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=vr()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=kr()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:c}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=c}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=vr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(jn)});const n=()=>{this.killSession()};try{const c=await this._sendCallRequest(r);return c&&n(),c}catch(c){throw n(),c}}async connect(e){if(!this._qrcodeModal)throw new Error(jc);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(jn))),this.on("connect",(c,o)=>{if(c)return n(c);r(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(yr);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=vr(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(yr);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(yr);const r=e&&e.message?e.message:Pc,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(et);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},c=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(c),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(et);const r=_r(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(et);const r=_r(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(et);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(et);e=qn(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(et);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,c)=>{this._subscribeToResponse(e.id,(o,g)=>{if(o){c(o);return}if(!g)throw new Error(Fc);n(g)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(et);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return co(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=_r(e.params[0]));break;case"personal_sign":e.params&&(e.params=qn(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(vt(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(Dc)}rejectRequest(e){if(Lt(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(qc)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),c=await this._encrypt(n),o=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,g=JSON.stringify(c),h=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:_c(n);this._transport.send(g,o,h)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,c=JSON.stringify(r),o=!0;this._transport.send(c,n,o)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error($c);return{id:typeof e.id>"u"?lc():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Hc);const r={id:e.id,jsonrpc:"2.0"};if(Lt(e)){const n=bc(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(vt(e))return Object.assign(Object.assign({},r),e);throw new Error(zn)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Qr(Nt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const c=await this._decrypt(n);c&&this._eventManager.trigger(c)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,c)=>{if(n){this._handleSessionResponse(n.message);return}vt(c)?this._handleSessionResponse(r,c.result):c.error&&c.error.message?this._handleSessionResponse(c.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(c,o)=>{if(c){n(c);return}vt(o)?r(o.result):o.error&&o.error.message?n(new Error(o.error.message)):n(new Error(zn))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(zi()&&this._signingMethods.includes(n.method)){const c=Yr(Nt);c&&(window.location.href=c.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,c=encodeURIComponent(this.bridge),o=this.key;return`${e}:${r}@${n}?bridge=${c}&key=${o}`}_parseUri(e){const r=kc(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const c=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const o=r.key;return{handshakeTopic:n,bridge:c,key:o}}else throw new Error(zc)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,c)=>{if(n)throw n;if(e.peerMeta){const o=c.params[0].peerMeta.name;r.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function nu(t){return dt.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const po=256,go=po,iu=po,Qe="AES-CBC",ou=`SHA-${go}`,Nr="HMAC",au="encrypt",su="decrypt",cu="sign",uu="verify";function fu(t){return t===Qe?{length:go,name:Qe}:{hash:{name:ou},name:Nr}}function lu(t){return t===Qe?[au,su]:[cu,uu]}async function tn(t,e=Qe){return dt.getSubtleCrypto().importKey("raw",t,fu(e),!0,lu(e))}async function hu(t,e,r){const n=dt.getSubtleCrypto(),c=await tn(e,Qe),o=await n.encrypt({iv:t,name:Qe},c,r);return new Uint8Array(o)}async function du(t,e,r){const n=dt.getSubtleCrypto(),c=await tn(e,Qe),o=await n.decrypt({iv:t,name:Qe},c,r);return new Uint8Array(o)}async function pu(t,e){const r=dt.getSubtleCrypto(),n=await tn(t,Nr),c=await r.sign({length:iu,name:Nr},n,e);return new Uint8Array(c)}function gu(t,e,r){return hu(t,e,r)}function mu(t,e,r){return du(t,e,r)}async function mo(t,e){return await pu(t,e)}async function vo(t){const e=(t||256)/8,r=nu(e);return ac(jt(r))}async function _o(t,e){const r=ot(t.data),n=ot(t.iv),c=ot(t.hmac),o=it(c,!1),g=ao(r,n),h=await mo(e,g),M=it(h,!1);return Ye(o)===Ye(M)}async function vu(t,e,r){const n=at(Br(e)),c=r||await vo(128),o=at(Br(c)),g=it(o,!1),h=JSON.stringify(t),M=Gs(h),T=await gu(o,n,M),x=it(T,!1),O=ao(T,o),P=await mo(n,O),F=it(P,!1);return{data:x,hmac:F,iv:g}}async function _u(t,e){const r=at(Br(e));if(!r)throw new Error("Missing key: required for decryption");if(!await _o(t,r))return null;const c=ot(t.data),o=ot(t.iv),g=await mu(o,r,c),h=Ys(g);let M;try{M=JSON.parse(h)}catch{return null}return M}const wu=Object.freeze(Object.defineProperty({__proto__:null,generateKey:vo,verifyHmac:_o,encrypt:vu,decrypt:_u},Symbol.toStringTag,{value:"Module"}));class yu extends ru{constructor(e,r){super({cryptoLib:wu,connectorOpts:e,pushServerOpts:r})}}const bu=vi(Ds);var St={},Mu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},wo={},Ge={},Eu={}.toString,rn=Array.isArray||function(t){return Eu.call(t)=="[object Array]"},xu=rn;function Su(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}X.TYPED_ARRAY_SUPPORT=Su();var Jn=X.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function X(t,e,r){return!X.TYPED_ARRAY_SUPPORT&&!(this instanceof X)?new X(t,e,r):typeof t=="number"?yo(this,t):Bu(this,t,e,r)}X.TYPED_ARRAY_SUPPORT&&(X.prototype.__proto__=Uint8Array.prototype,X.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&X[Symbol.species]===X&&Object.defineProperty(X,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function nn(t){if(t>=Jn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jn.toString(16)+" bytes");return t|0}function Ru(t){return t!==t}function st(t,e){var r;return X.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=X.prototype):(r=t,r===null&&(r=new X(e)),r.length=e),r}function yo(t,e){var r=st(t,e<0?0:nn(e)|0);if(!X.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function Cu(t,e){var r=Mo(e)|0,n=st(t,r),c=n.write(e);return c!==r&&(n=n.slice(0,c)),n}function Lr(t,e){for(var r=e.length<0?0:nn(e.length)|0,n=st(t,r),c=0;c<r;c+=1)n[c]=e[c]&255;return n}function Tu(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var c;return r===void 0&&n===void 0?c=new Uint8Array(e):n===void 0?c=new Uint8Array(e,r):c=new Uint8Array(e,r,n),X.TYPED_ARRAY_SUPPORT?c.__proto__=X.prototype:c=Lr(t,c),c}function Au(t,e){if(X.isBuffer(e)){var r=nn(e.length)|0,n=st(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Ru(e.length)?st(t,0):Lr(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Lr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function bo(t,e){e=e||1/0;for(var r,n=t.length,c=null,o=[],g=0;g<n;++g){if(r=t.charCodeAt(g),r>55295&&r<57344){if(!c){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(g+1===n){(e-=3)>-1&&o.push(239,191,189);continue}c=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),c=r;continue}r=(c-55296<<10|r-56320)+65536}else c&&(e-=3)>-1&&o.push(239,191,189);if(c=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Mo(t){if(X.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:bo(t).length}function Iu(t,e,r,n){for(var c=0;c<n&&!(c+r>=e.length||c>=t.length);++c)e[c+r]=t[c];return c}function ku(t,e,r,n){return Iu(bo(e,t.length-r),t,r,n)}function Bu(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Tu(t,e,r,n):typeof e=="string"?Cu(t,e):Au(t,e)}X.prototype.write=function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var c=this.length-r;if((n===void 0||n>c)&&(n=c),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return ku(this,e,r,n)};X.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var c;if(X.TYPED_ARRAY_SUPPORT)c=this.subarray(e,r),c.__proto__=X.prototype;else{var o=r-e;c=new X(o,void 0);for(var g=0;g<o;++g)c[g]=this[g+e]}return c};X.prototype.copy=function(e,r,n,c){if(n||(n=0),!c&&c!==0&&(c=this.length),r>=e.length&&(r=e.length),r||(r=0),c>0&&c<n&&(c=n),c===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-r<c-n&&(c=e.length-r+n);var o=c-n,g;if(this===e&&n<r&&r<c)for(g=o-1;g>=0;--g)e[g+r]=this[g+n];else if(o<1e3||!X.TYPED_ARRAY_SUPPORT)for(g=0;g<o;++g)e[g+r]=this[g+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};X.prototype.fill=function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var c=e.charCodeAt(0);c<256&&(e=c)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var g=X.isBuffer(e)?e:new X(e),h=g.length;for(o=0;o<n-r;++o)this[o+r]=g[o%h]}return this};X.concat=function(e,r){if(!xu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return st(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var c=yo(null,r),o=0;for(n=0;n<e.length;++n){var g=e[n];if(!X.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(c,o),o+=g.length}return c};X.byteLength=Mo;X.prototype._isBuffer=!0;X.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Ge.alloc=function(t){var e=new X(t);return e.fill(0),e};Ge.from=function(t){return new X(t)};var Ue={},on,Ou=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ue.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ue.getSymbolTotalCodewords=function(e){return Ou[e]};Ue.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ue.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');on=e};Ue.isKanjiModeEnabled=function(){return typeof on<"u"};Ue.toSJIS=function(e){return on(e)};var Jt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,c){if(t.isValid(n))return n;try{return e(n)}catch{return c}}})(Jt);function Eo(){this.buffer=[],this.length=0}Eo.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Nu=Eo,Vn=Ge;function Rt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Vn.alloc(t*t),this.reservedBit=Vn.alloc(t*t)}Rt.prototype.set=function(t,e,r,n){var c=t*this.size+e;this.data[c]=r,n&&(this.reservedBit[c]=!0)};Rt.prototype.get=function(t,e){return this.data[t*this.size+e]};Rt.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Rt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Lu=Rt,xo={};(function(t){var e=Ue.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var c=Math.floor(n/7)+2,o=e(n),g=o===145?26:Math.ceil((o-13)/(2*c-2))*2,h=[o-7],M=1;M<c-1;M++)h[M]=h[M-1]-g;return h.push(6),h.reverse()},t.getPositions=function(n){for(var c=[],o=t.getRowColCoords(n),g=o.length,h=0;h<g;h++)for(var M=0;M<g;M++)h===0&&M===0||h===0&&M===g-1||h===g-1&&M===0||c.push([o[h],o[M]]);return c}})(xo);var So={},Uu=Ue.getSymbolSize,Kn=7;So.getPositions=function(e){var r=Uu(e);return[[0,0],[r-Kn,0],[0,r-Kn]]};var Ro={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},t.from=function(c){return t.isValid(c)?parseInt(c,10):void 0},t.getPenaltyN1=function(c){for(var o=c.size,g=0,h=0,M=0,T=null,x=null,O=0;O<o;O++){h=M=0,T=x=null;for(var P=0;P<o;P++){var F=c.get(O,P);F===T?h++:(h>=5&&(g+=e.N1+(h-5)),T=F,h=1),F=c.get(P,O),F===x?M++:(M>=5&&(g+=e.N1+(M-5)),x=F,M=1)}h>=5&&(g+=e.N1+(h-5)),M>=5&&(g+=e.N1+(M-5))}return g},t.getPenaltyN2=function(c){for(var o=c.size,g=0,h=0;h<o-1;h++)for(var M=0;M<o-1;M++){var T=c.get(h,M)+c.get(h,M+1)+c.get(h+1,M)+c.get(h+1,M+1);(T===4||T===0)&&g++}return g*e.N2},t.getPenaltyN3=function(c){for(var o=c.size,g=0,h=0,M=0,T=0;T<o;T++){h=M=0;for(var x=0;x<o;x++)h=h<<1&2047|c.get(T,x),x>=10&&(h===1488||h===93)&&g++,M=M<<1&2047|c.get(x,T),x>=10&&(M===1488||M===93)&&g++}return g*e.N3},t.getPenaltyN4=function(c){for(var o=0,g=c.data.length,h=0;h<g;h++)o+=c.data[h];var M=Math.abs(Math.ceil(o*100/g/5)-10);return M*e.N4};function r(n,c,o){switch(n){case t.Patterns.PATTERN000:return(c+o)%2===0;case t.Patterns.PATTERN001:return c%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(c+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return c*o%2+c*o%3===0;case t.Patterns.PATTERN110:return(c*o%2+c*o%3)%2===0;case t.Patterns.PATTERN111:return(c*o%3+(c+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(c,o){for(var g=o.size,h=0;h<g;h++)for(var M=0;M<g;M++)o.isReserved(M,h)||o.xor(M,h,r(c,M,h))},t.getBestMask=function(c,o){for(var g=Object.keys(t.Patterns).length,h=0,M=1/0,T=0;T<g;T++){o(T),t.applyMask(T,c);var x=t.getPenaltyN1(c)+t.getPenaltyN2(c)+t.getPenaltyN3(c)+t.getPenaltyN4(c);t.applyMask(T,c),x<M&&(M=x,h=T)}return h}})(Ro);var Vt={},je=Jt,It=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Vt.getBlocksCount=function(e,r){switch(r){case je.L:return It[(e-1)*4+0];case je.M:return It[(e-1)*4+1];case je.Q:return It[(e-1)*4+2];case je.H:return It[(e-1)*4+3];default:return}};Vt.getTotalCodewordsCount=function(e,r){switch(r){case je.L:return kt[(e-1)*4+0];case je.M:return kt[(e-1)*4+1];case je.Q:return kt[(e-1)*4+2];case je.H:return kt[(e-1)*4+3];default:return}};var Co={},Kt={},To=Ge,wt=To.alloc(512),Ut=To.alloc(256);(function(){for(var e=1,r=0;r<255;r++)wt[r]=e,Ut[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)wt[r]=wt[r-255]})();Kt.log=function(e){if(e<1)throw new Error("log("+e+")");return Ut[e]};Kt.exp=function(e){return wt[e]};Kt.mul=function(e,r){return e===0||r===0?0:wt[Ut[e]+Ut[r]]};(function(t){var e=Ge,r=Kt;t.mul=function(c,o){for(var g=e.alloc(c.length+o.length-1),h=0;h<c.length;h++)for(var M=0;M<o.length;M++)g[h+M]^=r.mul(c[h],o[M]);return g},t.mod=function(c,o){for(var g=e.from(c);g.length-o.length>=0;){for(var h=g[0],M=0;M<o.length;M++)g[M]^=r.mul(o[M],h);for(var T=0;T<g.length&&g[T]===0;)T++;g=g.slice(T)}return g},t.generateECPolynomial=function(c){for(var o=e.from([1]),g=0;g<c;g++)o=t.mul(o,[1,r.exp(g)]);return o}})(Co);var Ao={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Ca,r=Ta,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var c=2147483647;t.kMaxLength=c,h.TYPED_ARRAY_SUPPORT=o(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var v=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(v,s),v.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function g(v){if(v>c)throw new RangeError('The value "'+v+'" is invalid for option "size"');var s=new Uint8Array(v);return Object.setPrototypeOf(s,h.prototype),s}function h(v,s,u){if(typeof v=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(v)}return M(v,s,u)}h.poolSize=8192;function M(v,s,u){if(typeof v=="string")return P(v,s);if(ArrayBuffer.isView(v))return N(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(Le(v,ArrayBuffer)||v&&Le(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(v,SharedArrayBuffer)||v&&Le(v.buffer,SharedArrayBuffer)))return q(v,s,u);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var w=v.valueOf&&v.valueOf();if(w!=null&&w!==v)return h.from(w,s,u);var E=R(v);if(E)return E;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return h.from(v[Symbol.toPrimitive]("string"),s,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}h.from=function(v,s,u){return M(v,s,u)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function T(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function x(v,s,u){return T(v),v<=0?g(v):s!==void 0?typeof u=="string"?g(v).fill(s,u):g(v).fill(s):g(v)}h.alloc=function(v,s,u){return x(v,s,u)};function O(v){return T(v),g(v<0?0:C(v)|0)}h.allocUnsafe=function(v){return O(v)},h.allocUnsafeSlow=function(v){return O(v)};function P(v,s){if((typeof s!="string"||s==="")&&(s="utf8"),!h.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var u=A(v,s)|0,w=g(u),E=w.write(v,s);return E!==u&&(w=w.slice(0,E)),w}function F(v){for(var s=v.length<0?0:C(v.length)|0,u=g(s),w=0;w<s;w+=1)u[w]=v[w]&255;return u}function N(v){if(Le(v,Uint8Array)){var s=new Uint8Array(v);return q(s.buffer,s.byteOffset,s.byteLength)}return F(v)}function q(v,s,u){if(s<0||v.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<s+(u||0))throw new RangeError('"length" is outside of buffer bounds');var w;return s===void 0&&u===void 0?w=new Uint8Array(v):u===void 0?w=new Uint8Array(v,s):w=new Uint8Array(v,s,u),Object.setPrototypeOf(w,h.prototype),w}function R(v){if(h.isBuffer(v)){var s=C(v.length)|0,u=g(s);return u.length===0||v.copy(u,0,0,s),u}if(v.length!==void 0)return typeof v.length!="number"||ce(v.length)?g(0):F(v);if(v.type==="Buffer"&&Array.isArray(v.data))return F(v.data)}function C(v){if(v>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return v|0}function I(v){return+v!=v&&(v=0),h.alloc(+v)}h.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==h.prototype},h.compare=function(s,u){if(Le(s,Uint8Array)&&(s=h.from(s,s.offset,s.byteLength)),Le(u,Uint8Array)&&(u=h.from(u,u.offset,u.byteLength)),!h.isBuffer(s)||!h.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===u)return 0;for(var w=s.length,E=u.length,k=0,L=Math.min(w,E);k<L;++k)if(s[k]!==u[k]){w=s[k],E=u[k];break}return w<E?-1:E<w?1:0},h.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(s,u){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return h.alloc(0);var w;if(u===void 0)for(u=0,w=0;w<s.length;++w)u+=s[w].length;var E=h.allocUnsafe(u),k=0;for(w=0;w<s.length;++w){var L=s[w];if(Le(L,Uint8Array))k+L.length>E.length?h.from(L).copy(E,k):Uint8Array.prototype.set.call(E,L,k);else if(h.isBuffer(L))L.copy(E,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=L.length}return E};function A(v,s){if(h.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||Le(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var u=v.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&u===0)return 0;for(var E=!1;;)switch(s){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return te(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return ue(v).length;default:if(E)return w?-1:te(v).length;s=(""+s).toLowerCase(),E=!0}}h.byteLength=A;function B(v,s,u){var w=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,s>>>=0,u<=s))return"";for(v||(v="utf8");;)switch(v){case"hex":return a(this,s,u);case"utf8":case"utf-8":return l(this,s,u);case"ascii":return S(this,s,u);case"latin1":case"binary":return m(this,s,u);case"base64":return d(this,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,s,u);default:if(w)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),w=!0}}h.prototype._isBuffer=!0;function H(v,s,u){var w=v[s];v[s]=v[u],v[u]=w}h.prototype.swap16=function(){var s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<s;u+=2)H(this,u,u+1);return this},h.prototype.swap32=function(){var s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<s;u+=4)H(this,u,u+3),H(this,u+1,u+2);return this},h.prototype.swap64=function(){var s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<s;u+=8)H(this,u,u+7),H(this,u+1,u+6),H(this,u+2,u+5),H(this,u+3,u+4);return this},h.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?l(this,0,s):B.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(s){if(!h.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:h.compare(this,s)===0},h.prototype.inspect=function(){var s="",u=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(s+=" ... "),"<Buffer "+s+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(s,u,w,E,k){if(Le(s,Uint8Array)&&(s=h.from(s,s.offset,s.byteLength)),!h.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(u===void 0&&(u=0),w===void 0&&(w=s?s.length:0),E===void 0&&(E=0),k===void 0&&(k=this.length),u<0||w>s.length||E<0||k>this.length)throw new RangeError("out of range index");if(E>=k&&u>=w)return 0;if(E>=k)return-1;if(u>=w)return 1;if(u>>>=0,w>>>=0,E>>>=0,k>>>=0,this===s)return 0;for(var L=k-E,J=w-u,K=Math.min(L,J),ie=this.slice(E,k),Z=s.slice(u,w),G=0;G<K;++G)if(ie[G]!==Z[G]){L=ie[G],J=Z[G];break}return L<J?-1:J<L?1:0};function W(v,s,u,w,E){if(v.length===0)return-1;if(typeof u=="string"?(w=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,ce(u)&&(u=E?0:v.length-1),u<0&&(u=v.length+u),u>=v.length){if(E)return-1;u=v.length-1}else if(u<0)if(E)u=0;else return-1;if(typeof s=="string"&&(s=h.from(s,w)),h.isBuffer(s))return s.length===0?-1:V(v,s,u,w,E);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(v,s,u):Uint8Array.prototype.lastIndexOf.call(v,s,u):V(v,[s],u,w,E);throw new TypeError("val must be string, number or Buffer")}function V(v,s,u,w,E){var k=1,L=v.length,J=s.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(v.length<2||s.length<2)return-1;k=2,L/=2,J/=2,u/=2}function K(fe,le){return k===1?fe[le]:fe.readUInt16BE(le*k)}var ie;if(E){var Z=-1;for(ie=u;ie<L;ie++)if(K(v,ie)===K(s,Z===-1?0:ie-Z)){if(Z===-1&&(Z=ie),ie-Z+1===J)return Z*k}else Z!==-1&&(ie-=ie-Z),Z=-1}else for(u+J>L&&(u=L-J),ie=u;ie>=0;ie--){for(var G=!0,Xe=0;Xe<J;Xe++)if(K(v,ie+Xe)!==K(s,Xe)){G=!1;break}if(G)return ie}return-1}h.prototype.includes=function(s,u,w){return this.indexOf(s,u,w)!==-1},h.prototype.indexOf=function(s,u,w){return W(this,s,u,w,!0)},h.prototype.lastIndexOf=function(s,u,w){return W(this,s,u,w,!1)};function j(v,s,u,w){u=Number(u)||0;var E=v.length-u;w?(w=Number(w),w>E&&(w=E)):w=E;var k=s.length;w>k/2&&(w=k/2);for(var L=0;L<w;++L){var J=parseInt(s.substr(L*2,2),16);if(ce(J))return L;v[u+L]=J}return L}function ne(v,s,u,w){return se(te(s,v.length-u),v,u,w)}function b(v,s,u,w){return se(oe(s),v,u,w)}function i(v,s,u,w){return se(ue(s),v,u,w)}function f(v,s,u,w){return se(Tt(s,v.length-u),v,u,w)}h.prototype.write=function(s,u,w,E){if(u===void 0)E="utf8",w=this.length,u=0;else if(w===void 0&&typeof u=="string")E=u,w=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(w)?(w=w>>>0,E===void 0&&(E="utf8")):(E=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var k=this.length-u;if((w===void 0||w>k)&&(w=k),s.length>0&&(w<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var L=!1;;)switch(E){case"hex":return j(this,s,u,w);case"utf8":case"utf-8":return ne(this,s,u,w);case"ascii":case"latin1":case"binary":return b(this,s,u,w);case"base64":return i(this,s,u,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,s,u,w);default:if(L)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),L=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function d(v,s,u){return s===0&&u===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(s,u))}function l(v,s,u){u=Math.min(v.length,u);for(var w=[],E=s;E<u;){var k=v[E],L=null,J=k>239?4:k>223?3:k>191?2:1;if(E+J<=u){var K,ie,Z,G;switch(J){case 1:k<128&&(L=k);break;case 2:K=v[E+1],(K&192)===128&&(G=(k&31)<<6|K&63,G>127&&(L=G));break;case 3:K=v[E+1],ie=v[E+2],(K&192)===128&&(ie&192)===128&&(G=(k&15)<<12|(K&63)<<6|ie&63,G>2047&&(G<55296||G>57343)&&(L=G));break;case 4:K=v[E+1],ie=v[E+2],Z=v[E+3],(K&192)===128&&(ie&192)===128&&(Z&192)===128&&(G=(k&15)<<18|(K&63)<<12|(ie&63)<<6|Z&63,G>65535&&G<1114112&&(L=G))}}L===null?(L=65533,J=1):L>65535&&(L-=65536,w.push(L>>>10&1023|55296),L=56320|L&1023),w.push(L),E+=J}return y(w)}var p=4096;function y(v){var s=v.length;if(s<=p)return String.fromCharCode.apply(String,v);for(var u="",w=0;w<s;)u+=String.fromCharCode.apply(String,v.slice(w,w+=p));return u}function S(v,s,u){var w="";u=Math.min(v.length,u);for(var E=s;E<u;++E)w+=String.fromCharCode(v[E]&127);return w}function m(v,s,u){var w="";u=Math.min(v.length,u);for(var E=s;E<u;++E)w+=String.fromCharCode(v[E]);return w}function a(v,s,u){var w=v.length;(!s||s<0)&&(s=0),(!u||u<0||u>w)&&(u=w);for(var E="",k=s;k<u;++k)E+=he[v[k]];return E}function _(v,s,u){for(var w=v.slice(s,u),E="",k=0;k<w.length-1;k+=2)E+=String.fromCharCode(w[k]+w[k+1]*256);return E}h.prototype.slice=function(s,u){var w=this.length;s=~~s,u=u===void 0?w:~~u,s<0?(s+=w,s<0&&(s=0)):s>w&&(s=w),u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),u<s&&(u=s);var E=this.subarray(s,u);return Object.setPrototypeOf(E,h.prototype),E};function U(v,s,u){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+s>u)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(s,u,w){s=s>>>0,u=u>>>0,w||U(s,u,this.length);for(var E=this[s],k=1,L=0;++L<u&&(k*=256);)E+=this[s+L]*k;return E},h.prototype.readUintBE=h.prototype.readUIntBE=function(s,u,w){s=s>>>0,u=u>>>0,w||U(s,u,this.length);for(var E=this[s+--u],k=1;u>0&&(k*=256);)E+=this[s+--u]*k;return E},h.prototype.readUint8=h.prototype.readUInt8=function(s,u){return s=s>>>0,u||U(s,1,this.length),this[s]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(s,u){return s=s>>>0,u||U(s,2,this.length),this[s]|this[s+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(s,u){return s=s>>>0,u||U(s,2,this.length),this[s]<<8|this[s+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(s,u){return s=s>>>0,u||U(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(s,u){return s=s>>>0,u||U(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},h.prototype.readIntLE=function(s,u,w){s=s>>>0,u=u>>>0,w||U(s,u,this.length);for(var E=this[s],k=1,L=0;++L<u&&(k*=256);)E+=this[s+L]*k;return k*=128,E>=k&&(E-=Math.pow(2,8*u)),E},h.prototype.readIntBE=function(s,u,w){s=s>>>0,u=u>>>0,w||U(s,u,this.length);for(var E=u,k=1,L=this[s+--E];E>0&&(k*=256);)L+=this[s+--E]*k;return k*=128,L>=k&&(L-=Math.pow(2,8*u)),L},h.prototype.readInt8=function(s,u){return s=s>>>0,u||U(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},h.prototype.readInt16LE=function(s,u){s=s>>>0,u||U(s,2,this.length);var w=this[s]|this[s+1]<<8;return w&32768?w|4294901760:w},h.prototype.readInt16BE=function(s,u){s=s>>>0,u||U(s,2,this.length);var w=this[s+1]|this[s]<<8;return w&32768?w|4294901760:w},h.prototype.readInt32LE=function(s,u){return s=s>>>0,u||U(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},h.prototype.readInt32BE=function(s,u){return s=s>>>0,u||U(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},h.prototype.readFloatLE=function(s,u){return s=s>>>0,u||U(s,4,this.length),r.read(this,s,!0,23,4)},h.prototype.readFloatBE=function(s,u){return s=s>>>0,u||U(s,4,this.length),r.read(this,s,!1,23,4)},h.prototype.readDoubleLE=function(s,u){return s=s>>>0,u||U(s,8,this.length),r.read(this,s,!0,52,8)},h.prototype.readDoubleBE=function(s,u){return s=s>>>0,u||U(s,8,this.length),r.read(this,s,!1,52,8)};function D(v,s,u,w,E,k){if(!h.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>E||s<k)throw new RangeError('"value" argument is out of bounds');if(u+w>v.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(s,u,w,E){if(s=+s,u=u>>>0,w=w>>>0,!E){var k=Math.pow(2,8*w)-1;D(this,s,u,w,k,0)}var L=1,J=0;for(this[u]=s&255;++J<w&&(L*=256);)this[u+J]=s/L&255;return u+w},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(s,u,w,E){if(s=+s,u=u>>>0,w=w>>>0,!E){var k=Math.pow(2,8*w)-1;D(this,s,u,w,k,0)}var L=w-1,J=1;for(this[u+L]=s&255;--L>=0&&(J*=256);)this[u+L]=s/J&255;return u+w},h.prototype.writeUint8=h.prototype.writeUInt8=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,1,255,0),this[u]=s&255,u+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,2,65535,0),this[u]=s&255,this[u+1]=s>>>8,u+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,2,65535,0),this[u]=s>>>8,this[u+1]=s&255,u+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,4,4294967295,0),this[u+3]=s>>>24,this[u+2]=s>>>16,this[u+1]=s>>>8,this[u]=s&255,u+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,4,4294967295,0),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4},h.prototype.writeIntLE=function(s,u,w,E){if(s=+s,u=u>>>0,!E){var k=Math.pow(2,8*w-1);D(this,s,u,w,k-1,-k)}var L=0,J=1,K=0;for(this[u]=s&255;++L<w&&(J*=256);)s<0&&K===0&&this[u+L-1]!==0&&(K=1),this[u+L]=(s/J>>0)-K&255;return u+w},h.prototype.writeIntBE=function(s,u,w,E){if(s=+s,u=u>>>0,!E){var k=Math.pow(2,8*w-1);D(this,s,u,w,k-1,-k)}var L=w-1,J=1,K=0;for(this[u+L]=s&255;--L>=0&&(J*=256);)s<0&&K===0&&this[u+L+1]!==0&&(K=1),this[u+L]=(s/J>>0)-K&255;return u+w},h.prototype.writeInt8=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,1,127,-128),s<0&&(s=255+s+1),this[u]=s&255,u+1},h.prototype.writeInt16LE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,2,32767,-32768),this[u]=s&255,this[u+1]=s>>>8,u+2},h.prototype.writeInt16BE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,2,32767,-32768),this[u]=s>>>8,this[u+1]=s&255,u+2},h.prototype.writeInt32LE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,4,2147483647,-2147483648),this[u]=s&255,this[u+1]=s>>>8,this[u+2]=s>>>16,this[u+3]=s>>>24,u+4},h.prototype.writeInt32BE=function(s,u,w){return s=+s,u=u>>>0,w||D(this,s,u,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4};function z(v,s,u,w,E,k){if(u+w>v.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Q(v,s,u,w,E){return s=+s,u=u>>>0,E||z(v,s,u,4),r.write(v,s,u,w,23,4),u+4}h.prototype.writeFloatLE=function(s,u,w){return Q(this,s,u,!0,w)},h.prototype.writeFloatBE=function(s,u,w){return Q(this,s,u,!1,w)};function ee(v,s,u,w,E){return s=+s,u=u>>>0,E||z(v,s,u,8),r.write(v,s,u,w,52,8),u+8}h.prototype.writeDoubleLE=function(s,u,w){return ee(this,s,u,!0,w)},h.prototype.writeDoubleBE=function(s,u,w){return ee(this,s,u,!1,w)},h.prototype.copy=function(s,u,w,E){if(!h.isBuffer(s))throw new TypeError("argument should be a Buffer");if(w||(w=0),!E&&E!==0&&(E=this.length),u>=s.length&&(u=s.length),u||(u=0),E>0&&E<w&&(E=w),E===w||s.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),s.length-u<E-w&&(E=s.length-u+w);var k=E-w;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,w,E):Uint8Array.prototype.set.call(s,this.subarray(w,E),u),k},h.prototype.fill=function(s,u,w,E){if(typeof s=="string"){if(typeof u=="string"?(E=u,u=0,w=this.length):typeof w=="string"&&(E=w,w=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!h.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(s.length===1){var k=s.charCodeAt(0);(E==="utf8"&&k<128||E==="latin1")&&(s=k)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(u<0||this.length<u||this.length<w)throw new RangeError("Out of range index");if(w<=u)return this;u=u>>>0,w=w===void 0?this.length:w>>>0,s||(s=0);var L;if(typeof s=="number")for(L=u;L<w;++L)this[L]=s;else{var J=h.isBuffer(s)?s:h.from(s,E),K=J.length;if(K===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(L=0;L<w-u;++L)this[L+u]=J[L%K]}return this};var re=/[^+/0-9A-Za-z-_]/g;function De(v){if(v=v.split("=")[0],v=v.trim().replace(re,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function te(v,s){s=s||1/0;for(var u,w=v.length,E=null,k=[],L=0;L<w;++L){if(u=v.charCodeAt(L),u>55295&&u<57344){if(!E){if(u>56319){(s-=3)>-1&&k.push(239,191,189);continue}else if(L+1===w){(s-=3)>-1&&k.push(239,191,189);continue}E=u;continue}if(u<56320){(s-=3)>-1&&k.push(239,191,189),E=u;continue}u=(E-55296<<10|u-56320)+65536}else E&&(s-=3)>-1&&k.push(239,191,189);if(E=null,u<128){if((s-=1)<0)break;k.push(u)}else if(u<2048){if((s-=2)<0)break;k.push(u>>6|192,u&63|128)}else if(u<65536){if((s-=3)<0)break;k.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((s-=4)<0)break;k.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return k}function oe(v){for(var s=[],u=0;u<v.length;++u)s.push(v.charCodeAt(u)&255);return s}function Tt(v,s){for(var u,w,E,k=[],L=0;L<v.length&&!((s-=2)<0);++L)u=v.charCodeAt(L),w=u>>8,E=u%256,k.push(E),k.push(w);return k}function ue(v){return e.toByteArray(De(v))}function se(v,s,u,w){for(var E=0;E<w&&!(E+u>=s.length||E>=v.length);++E)s[E+u]=v[E];return E}function Le(v,s){return v instanceof s||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===s.name}function ce(v){return v!==v}var he=function(){for(var v="0123456789abcdef",s=new Array(256),u=0;u<16;++u)for(var w=u*16,E=0;E<16;++E)s[w+E]=v[u]+v[E];return s}()})(Ao);var Yn=Ge,Io=Co,Pu=Ao.Buffer;function an(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}an.prototype.initialize=function(e){this.degree=e,this.genPoly=Io.generateECPolynomial(this.degree)};an.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=Yn.alloc(this.degree),n=Pu.concat([e,r],e.length+this.degree),c=Io.mod(n,this.genPoly),o=this.degree-c.length;if(o>0){var g=Yn.alloc(this.degree);return c.copy(g,o),g}return c};var Fu=an,ko={},Ze={},sn={};sn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var $e={},Bo="[0-9]+",Du="[A-Z $%*+\\-./:]+",Mt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mt=Mt.replace(/u/g,"\\u");var qu="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mt+`)(?:.|[\r
]))+`;$e.KANJI=new RegExp(Mt,"g");$e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$e.BYTE=new RegExp(qu,"g");$e.NUMERIC=new RegExp(Bo,"g");$e.ALPHANUMERIC=new RegExp(Du,"g");var $u=new RegExp("^"+Mt+"$"),Hu=new RegExp("^"+Bo+"$"),Wu=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$e.testKanji=function(e){return $u.test(e)};$e.testNumeric=function(e){return Hu.test(e)};$e.testAlphanumeric=function(e){return Wu.test(e)};(function(t){var e=sn,r=$e;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,g){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(g))throw new Error("Invalid version: "+g);return g>=1&&g<10?o.ccBits[0]:g<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(c){if(typeof c!="string")throw new Error("Param is not a string");var o=c.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+c)}}t.from=function(o,g){if(t.isValid(o))return o;try{return n(o)}catch{return g}}})(Ze);(function(t){var e=Ue,r=Vt,n=Jt,c=Ze,o=sn,g=rn,h=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,M=e.getBCHDigit(h);function T(F,N,q){for(var R=1;R<=40;R++)if(N<=t.getCapacity(R,q,F))return R}function x(F,N){return c.getCharCountIndicator(F,N)+4}function O(F,N){var q=0;return F.forEach(function(R){var C=x(R.mode,N);q+=C+R.getBitsLength()}),q}function P(F,N){for(var q=1;q<=40;q++){var R=O(F,q);if(R<=t.getCapacity(q,N,c.MIXED))return q}}t.from=function(N,q){return o.isValid(N)?parseInt(N,10):q},t.getCapacity=function(N,q,R){if(!o.isValid(N))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=c.BYTE);var C=e.getSymbolTotalCodewords(N),I=r.getTotalCodewordsCount(N,q),A=(C-I)*8;if(R===c.MIXED)return A;var B=A-x(R,N);switch(R){case c.NUMERIC:return Math.floor(B/10*3);case c.ALPHANUMERIC:return Math.floor(B/11*2);case c.KANJI:return Math.floor(B/13);case c.BYTE:default:return Math.floor(B/8)}},t.getBestVersionForData=function(N,q){var R,C=n.from(q,n.M);if(g(N)){if(N.length>1)return P(N,C);if(N.length===0)return 1;R=N[0]}else R=N;return T(R.mode,R.getLength(),C)},t.getEncodedBits=function(N){if(!o.isValid(N)||N<7)throw new Error("Invalid QR Code version");for(var q=N<<12;e.getBCHDigit(q)-M>=0;)q^=h<<e.getBCHDigit(q)-M;return N<<12|q}})(ko);var Oo={},Ur=Ue,No=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,zu=1<<14|1<<12|1<<10|1<<4|1<<1,Qn=Ur.getBCHDigit(No);Oo.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,c=n<<10;Ur.getBCHDigit(c)-Qn>=0;)c^=No<<Ur.getBCHDigit(c)-Qn;return(n<<10|c)^zu};var Lo={},ju=Ze;function ct(t){this.mode=ju.NUMERIC,this.data=t.toString()}ct.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ct.prototype.getLength=function(){return this.data.length};ct.prototype.getBitsLength=function(){return ct.getBitsLength(this.data.length)};ct.prototype.write=function(e){var r,n,c;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),c=parseInt(n,10),e.put(c,10);var o=this.data.length-r;o>0&&(n=this.data.substr(r),c=parseInt(n,10),e.put(c,o*3+1))};var Ju=ct,Vu=Ze,br=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ut(t){this.mode=Vu.ALPHANUMERIC,this.data=t}ut.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ut.prototype.getLength=function(){return this.data.length};ut.prototype.getBitsLength=function(){return ut.getBitsLength(this.data.length)};ut.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=br.indexOf(this.data[r])*45;n+=br.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(br.indexOf(this.data[r]),6)};var Ku=ut,Yu=Ge,Qu=Ze;function ft(t){this.mode=Qu.BYTE,this.data=Yu.from(t)}ft.getBitsLength=function(e){return e*8};ft.prototype.getLength=function(){return this.data.length};ft.prototype.getBitsLength=function(){return ft.getBitsLength(this.data.length)};ft.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Gu=ft,Zu=Ze,Xu=Ue;function lt(t){this.mode=Zu.KANJI,this.data=t}lt.getBitsLength=function(e){return e*13};lt.prototype.getLength=function(){return this.data.length};lt.prototype.getBitsLength=function(){return lt.getBitsLength(this.data.length)};lt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=Xu.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var ef=lt;(function(t){var e=Ze,r=Ju,n=Ku,c=Gu,o=ef,g=$e,h=Ue,M=Ra.exports;function T(C){return unescape(encodeURIComponent(C)).length}function x(C,I,A){for(var B=[],H;(H=C.exec(A))!==null;)B.push({data:H[0],index:H.index,mode:I,length:H[0].length});return B}function O(C){var I=x(g.NUMERIC,e.NUMERIC,C),A=x(g.ALPHANUMERIC,e.ALPHANUMERIC,C),B,H;h.isKanjiModeEnabled()?(B=x(g.BYTE,e.BYTE,C),H=x(g.KANJI,e.KANJI,C)):(B=x(g.BYTE_KANJI,e.BYTE,C),H=[]);var W=I.concat(A,B,H);return W.sort(function(V,j){return V.index-j.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function P(C,I){switch(I){case e.NUMERIC:return r.getBitsLength(C);case e.ALPHANUMERIC:return n.getBitsLength(C);case e.KANJI:return o.getBitsLength(C);case e.BYTE:return c.getBitsLength(C)}}function F(C){return C.reduce(function(I,A){var B=I.length-1>=0?I[I.length-1]:null;return B&&B.mode===A.mode?(I[I.length-1].data+=A.data,I):(I.push(A),I)},[])}function N(C){for(var I=[],A=0;A<C.length;A++){var B=C[A];switch(B.mode){case e.NUMERIC:I.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:I.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:I.push([B,{data:B.data,mode:e.BYTE,length:T(B.data)}]);break;case e.BYTE:I.push([{data:B.data,mode:e.BYTE,length:T(B.data)}])}}return I}function q(C,I){for(var A={},B={start:{}},H=["start"],W=0;W<C.length;W++){for(var V=C[W],j=[],ne=0;ne<V.length;ne++){var b=V[ne],i=""+W+ne;j.push(i),A[i]={node:b,lastCount:0},B[i]={};for(var f=0;f<H.length;f++){var d=H[f];A[d]&&A[d].node.mode===b.mode?(B[d][i]=P(A[d].lastCount+b.length,b.mode)-P(A[d].lastCount,b.mode),A[d].lastCount+=b.length):(A[d]&&(A[d].lastCount=b.length),B[d][i]=P(b.length,b.mode)+4+e.getCharCountIndicator(b.mode,I))}}H=j}for(f=0;f<H.length;f++)B[H[f]].end=0;return{map:B,table:A}}function R(C,I){var A,B=e.getBestModeForData(C);if(A=e.from(I,B),A!==e.BYTE&&A.bit<B.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(A)+`.
 Suggested mode is: `+e.toString(B));switch(A===e.KANJI&&!h.isKanjiModeEnabled()&&(A=e.BYTE),A){case e.NUMERIC:return new r(C);case e.ALPHANUMERIC:return new n(C);case e.KANJI:return new o(C);case e.BYTE:return new c(C)}}t.fromArray=function(I){return I.reduce(function(A,B){return typeof B=="string"?A.push(R(B,null)):B.data&&A.push(R(B.data,B.mode)),A},[])},t.fromString=function(I,A){for(var B=O(I,h.isKanjiModeEnabled()),H=N(B),W=q(H,A),V=M.find_path(W.map,"start","end"),j=[],ne=1;ne<V.length-1;ne++)j.push(W.table[V[ne]].node);return t.fromArray(F(j))},t.rawSplit=function(I){return t.fromArray(O(I,h.isKanjiModeEnabled()))}})(Lo);var Gn=Ge,Yt=Ue,Mr=Jt,tf=Nu,rf=Lu,nf=xo,of=So,Pr=Ro,Fr=Vt,af=Fu,Pt=ko,sf=Oo,cf=Ze,Er=Lo,uf=rn;function ff(t,e){for(var r=t.size,n=of.getPositions(e),c=0;c<n.length;c++)for(var o=n[c][0],g=n[c][1],h=-1;h<=7;h++)if(!(o+h<=-1||r<=o+h))for(var M=-1;M<=7;M++)g+M<=-1||r<=g+M||(h>=0&&h<=6&&(M===0||M===6)||M>=0&&M<=6&&(h===0||h===6)||h>=2&&h<=4&&M>=2&&M<=4?t.set(o+h,g+M,!0,!0):t.set(o+h,g+M,!1,!0))}function lf(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function hf(t,e){for(var r=nf.getPositions(e),n=0;n<r.length;n++)for(var c=r[n][0],o=r[n][1],g=-2;g<=2;g++)for(var h=-2;h<=2;h++)g===-2||g===2||h===-2||h===2||g===0&&h===0?t.set(c+g,o+h,!0,!0):t.set(c+g,o+h,!1,!0)}function df(t,e){for(var r=t.size,n=Pt.getEncodedBits(e),c,o,g,h=0;h<18;h++)c=Math.floor(h/3),o=h%3+r-8-3,g=(n>>h&1)===1,t.set(c,o,g,!0),t.set(o,c,g,!0)}function xr(t,e,r){var n=t.size,c=sf.getEncodedBits(e,r),o,g;for(o=0;o<15;o++)g=(c>>o&1)===1,o<6?t.set(o,8,g,!0):o<8?t.set(o+1,8,g,!0):t.set(n-15+o,8,g,!0),o<8?t.set(8,n-o-1,g,!0):o<9?t.set(8,15-o-1+1,g,!0):t.set(8,15-o-1,g,!0);t.set(n-8,8,1,!0)}function pf(t,e){for(var r=t.size,n=-1,c=r-1,o=7,g=0,h=r-1;h>0;h-=2)for(h===6&&h--;;){for(var M=0;M<2;M++)if(!t.isReserved(c,h-M)){var T=!1;g<e.length&&(T=(e[g]>>>o&1)===1),t.set(c,h-M,T),o--,o===-1&&(g++,o=7)}if(c+=n,c<0||r<=c){c-=n,n=-n;break}}}function gf(t,e,r){var n=new tf;r.forEach(function(T){n.put(T.mode.bit,4),n.put(T.getLength(),cf.getCharCountIndicator(T.mode,t)),T.write(n)});var c=Yt.getSymbolTotalCodewords(t),o=Fr.getTotalCodewordsCount(t,e),g=(c-o)*8;for(n.getLengthInBits()+4<=g&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var h=(g-n.getLengthInBits())/8,M=0;M<h;M++)n.put(M%2?17:236,8);return mf(n,t,e)}function mf(t,e,r){for(var n=Yt.getSymbolTotalCodewords(e),c=Fr.getTotalCodewordsCount(e,r),o=n-c,g=Fr.getBlocksCount(e,r),h=n%g,M=g-h,T=Math.floor(n/g),x=Math.floor(o/g),O=x+1,P=T-x,F=new af(P),N=0,q=new Array(g),R=new Array(g),C=0,I=Gn.from(t.buffer),A=0;A<g;A++){var B=A<M?x:O;q[A]=I.slice(N,N+B),R[A]=F.encode(q[A]),N+=B,C=Math.max(C,B)}var H=Gn.alloc(n),W=0,V,j;for(V=0;V<C;V++)for(j=0;j<g;j++)V<q[j].length&&(H[W++]=q[j][V]);for(V=0;V<P;V++)for(j=0;j<g;j++)H[W++]=R[j][V];return H}function vf(t,e,r,n){var c;if(uf(t))c=Er.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var g=Er.rawSplit(t);o=Pt.getBestVersionForData(g,r)}c=Er.fromString(t,o||40)}else throw new Error("Invalid data");var h=Pt.getBestVersionForData(c,r);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);var M=gf(e,r,c),T=Yt.getSymbolSize(e),x=new rf(T);return ff(x,e),lf(x),hf(x,e),xr(x,r,0),e>=7&&df(x,e),pf(x,M),isNaN(n)&&(n=Pr.getBestMask(x,xr.bind(null,x,r))),Pr.applyMask(n,x),xr(x,r,n),{modules:x,version:e,errorCorrectionLevel:r,maskPattern:n,segments:c}}wo.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=Mr.M,c,o;return typeof r<"u"&&(n=Mr.from(r.errorCorrectionLevel,Mr.M),c=Pt.from(r.version),o=Pr.from(r.maskPattern),r.toSJISFunc&&Yt.setToSJISFunction(r.toSJISFunc)),vf(e,c,n,o)};var Uo={},cn={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");var c=parseInt(n.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var c=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,g=n.scale||4;return{width:o,scale:o?4:g,margin:c,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,c){return c.width&&c.width>=n+c.margin*2?c.width/(n+c.margin*2):c.scale},t.getImageWidth=function(n,c){var o=t.getScale(n,c);return Math.floor((n+c.margin*2)*o)},t.qrToImageData=function(n,c,o){for(var g=c.modules.size,h=c.modules.data,M=t.getScale(g,o),T=Math.floor((g+o.margin*2)*M),x=o.margin*M,O=[o.color.light,o.color.dark],P=0;P<T;P++)for(var F=0;F<T;F++){var N=(P*T+F)*4,q=o.color.light;if(P>=x&&F>=x&&P<T-x&&F<T-x){var R=Math.floor((P-x)/M),C=Math.floor((F-x)/M);q=O[h[R*g+C]?1:0]}n[N++]=q.r,n[N++]=q.g,n[N++]=q.b,n[N]=q.a}}})(cn);(function(t){var e=cn;function r(c,o,g){c.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=g,o.width=g,o.style.height=g+"px",o.style.width=g+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,g,h){var M=h,T=g;typeof M>"u"&&(!g||!g.getContext)&&(M=g,g=void 0),g||(T=n()),M=e.getOptions(M);var x=e.getImageWidth(o.modules.size,M),O=T.getContext("2d"),P=O.createImageData(x,x);return e.qrToImageData(P.data,o,M),r(O,T,x),O.putImageData(P,0,0),T},t.renderToDataURL=function(o,g,h){var M=h;typeof M>"u"&&(!g||!g.getContext)&&(M=g,g=void 0),M||(M={});var T=t.render(o,g,M),x=M.type||"image/png",O=M.rendererOpts||{};return T.toDataURL(x,O.quality)}})(Uo);var Po={},_f=cn;function Zn(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Sr(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function wf(t,e,r){for(var n="",c=0,o=!1,g=0,h=0;h<t.length;h++){var M=Math.floor(h%e),T=Math.floor(h/e);!M&&!o&&(o=!0),t[h]?(g++,h>0&&M>0&&t[h-1]||(n+=o?Sr("M",M+r,.5+T+r):Sr("m",c,0),c=0,o=!1),M+1<e&&t[h+1]||(n+=Sr("h",g),g=0)):c++}return n}Po.render=function(e,r,n){var c=_f.getOptions(r),o=e.modules.size,g=e.modules.data,h=o+c.margin*2,M=c.color.light.a?"<path "+Zn(c.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",T="<path "+Zn(c.color.dark,"stroke")+' d="'+wf(g,o,c.margin)+'"/>',x='viewBox="0 0 '+h+" "+h+'"',O=c.width?'width="'+c.width+'" height="'+c.width+'" ':"",P='<svg xmlns="http://www.w3.org/2000/svg" '+O+x+' shape-rendering="crispEdges">'+M+T+`</svg>
`;return typeof n=="function"&&n(null,P),P};var yf=Mu,Dr=wo,Fo=Uo,bf=Po;function un(t,e,r,n,c){var o=[].slice.call(arguments,1),g=o.length,h=typeof o[g-1]=="function";if(!h&&!yf())throw new Error("Callback required as last argument");if(h){if(g<2)throw new Error("Too few arguments provided");g===2?(c=r,r=e,e=n=void 0):g===3&&(e.getContext&&typeof c>"u"?(c=n,n=void 0):(c=n,n=r,r=e,e=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(r=e,e=n=void 0):g===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(T,x){try{var O=Dr.create(r,n);T(t(O,e,n))}catch(P){x(P)}})}try{var M=Dr.create(r,n);c(null,t(M,e,n))}catch(T){c(T)}}St.create=Dr.create;St.toCanvas=un.bind(null,Fo.render);St.toDataURL=un.bind(null,Fo.renderToDataURL);St.toString=un.bind(null,function(t,e,r){return bf.render(t,r)});var Mf=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(c){t.addRange(c)}),e&&e.focus()}},Ef=Mf,Xn={"text/plain":"Text","text/html":"Url",default:"Text"},xf="Copy to clipboard: #{key}, Enter";function Sf(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Rf(t,e){var r,n,c,o,g,h,M=!1;e||(e={}),r=e.debug||!1;try{c=Ef(),o=document.createRange(),g=document.getSelection(),h=document.createElement("span"),h.textContent=t,h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(x){if(x.stopPropagation(),e.format)if(x.preventDefault(),typeof x.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var O=Xn[e.format]||Xn.default;window.clipboardData.setData(O,t)}else x.clipboardData.clearData(),x.clipboardData.setData(e.format,t);e.onCopy&&(x.preventDefault(),e.onCopy(x.clipboardData))}),document.body.appendChild(h),o.selectNodeContents(h),g.addRange(o);var T=document.execCommand("copy");if(!T)throw new Error("copy command was unsuccessful");M=!0}catch(x){r&&console.error("unable to copy using execCommand: ",x),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),M=!0}catch(O){r&&console.error("unable to copy using clipboardData: ",O),r&&console.error("falling back to prompt"),n=Sf("message"in e?e.message:xf),window.prompt(n,t)}}finally{g&&(typeof g.removeRange=="function"?g.removeRange(o):g.removeAllRanges()),h&&document.body.removeChild(h),c()}return M}var Cf=Rf,Y,yt,fn,Do,ei,ln,qo,We={},Qt=[],Tf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function He(t,e){for(var r in e)t[r]=e[r];return t}function $o(t){var e=t.parentNode;e&&e.removeChild(t)}function ze(t,e,r){var n,c=arguments,o={};for(n in e)n!=="key"&&n!=="ref"&&(o[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(c[n]);if(r!=null&&(o.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)o[n]===void 0&&(o[n]=t.defaultProps[n]);return Ft(t,o,e&&e.key,e&&e.ref,null)}function Ft(t,e,r,n,c){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:c};return c==null&&(o.__v=o),Y.vnode&&Y.vnode(o),o}function Ho(){return{}}function Ct(t){return t.children}function Fe(t,e){this.props=t,this.context=e}function Et(t,e){if(e==null)return t.__?Et(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Et(t):null}function Wo(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Wo(t)}}function Bt(t){(!t.__d&&(t.__d=!0)&&yt.push(t)&&!fn++||ei!==Y.debounceRendering)&&((ei=Y.debounceRendering)||Do)(Af)}function Af(){for(var t;fn=yt.length;)t=yt.sort(function(e,r){return e.__v.__b-r.__v.__b}),yt=[],t.some(function(e){var r,n,c,o,g,h,M;e.__d&&(h=(g=(r=e).__v).__e,(M=r.__P)&&(n=[],(c=He({},g)).__v=c,o=hn(M,g,c,r.__n,M.ownerSVGElement!==void 0,null,n,h==null?Et(g):h),jo(n,g),o!=h&&Wo(g)))})}function zo(t,e,r,n,c,o,g,h,M){var T,x,O,P,F,N,q,R=r&&r.__k||Qt,C=R.length;if(h==We&&(h=o!=null?o[0]:C?Et(r,0):null),T=0,e.__k=Ke(e.__k,function(I){if(I!=null){if(I.__=e,I.__b=e.__b+1,(O=R[T])===null||O&&I.key==O.key&&I.type===O.type)R[T]=void 0;else for(x=0;x<C;x++){if((O=R[x])&&I.key==O.key&&I.type===O.type){R[x]=void 0;break}O=null}if(P=hn(t,I,O=O||We,n,c,o,g,h,M),(x=I.ref)&&O.ref!=x&&(q||(q=[]),O.ref&&q.push(O.ref,null,I),q.push(x,I.__c||P,I)),P!=null){var A;if(N==null&&(N=P),I.__d!==void 0)A=I.__d,I.__d=void 0;else if(o==O||P!=h||P.parentNode==null){e:if(h==null||h.parentNode!==t)t.appendChild(P),A=null;else{for(F=h,x=0;(F=F.nextSibling)&&x<C;x+=2)if(F==P)break e;t.insertBefore(P,h),A=h}e.type=="option"&&(t.value="")}h=A!==void 0?A:P.nextSibling,typeof e.type=="function"&&(e.__d=h)}else h&&O.__e==h&&h.parentNode!=t&&(h=Et(O))}return T++,I}),e.__e=N,o!=null&&typeof e.type!="function")for(T=o.length;T--;)o[T]!=null&&$o(o[T]);for(T=C;T--;)R[T]!=null&&bt(R[T],R[T]);if(q)for(T=0;T<q.length;T++)Jo(q[T],q[++T],q[++T])}function Ke(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Ke(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?Ft(null,t,null,null,t):t.__e!=null||t.__c!=null?Ft(t.type,t.props,t.key,null,t.__v):t):t);return r}function If(t,e,r,n,c){var o;for(o in r)o==="children"||o==="key"||o in e||Dt(t,o,null,r[o],n);for(o in e)c&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||Dt(t,o,e[o],r[o],n)}function ti(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&Tf.test(e)===!1?r+"px":r==null?"":r}function Dt(t,e,r,n,c){var o,g,h,M,T;if(c?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof r=="string")o.cssText=r;else{if(typeof n=="string"&&(o.cssText="",n=null),n)for(M in n)r&&M in r||ti(o,M,"");if(r)for(T in r)n&&r[T]===n[T]||ti(o,T,r[T])}else e[0]==="o"&&e[1]==="n"?(g=e!==(e=e.replace(/Capture$/,"")),h=e.toLowerCase(),e=(h in t?h:e).slice(2),r?(n||t.addEventListener(e,ri,g),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,ri,g)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!c&&e in t?t[e]=r==null?"":r:typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function ri(t){this.l[t.type](Y.event?Y.event(t):t)}function hn(t,e,r,n,c,o,g,h,M){var T,x,O,P,F,N,q,R,C,I,A=e.type;if(e.constructor!==void 0)return null;(T=Y.__b)&&T(e);try{e:if(typeof A=="function"){if(R=e.props,C=(T=A.contextType)&&n[T.__c],I=T?C?C.props.value:T.__:n,r.__c?q=(x=e.__c=r.__c).__=x.__E:("prototype"in A&&A.prototype.render?e.__c=x=new A(R,I):(e.__c=x=new Fe(R,I),x.constructor=A,x.render=Bf),C&&C.sub(x),x.props=R,x.state||(x.state={}),x.context=I,x.__n=n,O=x.__d=!0,x.__h=[]),x.__s==null&&(x.__s=x.state),A.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=He({},x.__s)),He(x.__s,A.getDerivedStateFromProps(R,x.__s))),P=x.props,F=x.state,O)A.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(A.getDerivedStateFromProps==null&&R!==P&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(R,I),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(R,x.__s,I)===!1||e.__v===r.__v&&!x.__){for(x.props=R,x.state=x.__s,e.__v!==r.__v&&(x.__d=!1),x.__v=e,e.__e=r.__e,e.__k=r.__k,x.__h.length&&g.push(x),T=0;T<e.__k.length;T++)e.__k[T]&&(e.__k[T].__=e);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(R,x.__s,I),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(P,F,N)})}x.context=I,x.props=R,x.state=x.__s,(T=Y.__r)&&T(e),x.__d=!1,x.__v=e,x.__P=t,T=x.render(x.props,x.state,x.context),e.__k=T!=null&&T.type==Ct&&T.key==null?T.props.children:Array.isArray(T)?T:[T],x.getChildContext!=null&&(n=He(He({},n),x.getChildContext())),O||x.getSnapshotBeforeUpdate==null||(N=x.getSnapshotBeforeUpdate(P,F)),zo(t,e,r,n,c,o,g,h,M),x.base=e.__e,x.__h.length&&g.push(x),q&&(x.__E=x.__=null),x.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=kf(r.__e,e,r,n,c,o,g,M);(T=Y.diffed)&&T(e)}catch(B){e.__v=null,Y.__e(B,e,r)}return e.__e}function jo(t,e){Y.__c&&Y.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Y.__e(n,r.__v)}})}function kf(t,e,r,n,c,o,g,h){var M,T,x,O,P,F=r.props,N=e.props;if(c=e.type==="svg"||c,o!=null){for(M=0;M<o.length;M++)if((T=o[M])!=null&&((e.type===null?T.nodeType===3:T.localName===e.type)||t==T)){t=T,o[M]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(N);t=c?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,N.is&&{is:N.is}),o=null,h=!1}if(e.type===null)F!==N&&t.data!=N&&(t.data=N);else{if(o!=null&&(o=Qt.slice.call(t.childNodes)),x=(F=r.props||We).dangerouslySetInnerHTML,O=N.dangerouslySetInnerHTML,!h){if(F===We)for(F={},P=0;P<t.attributes.length;P++)F[t.attributes[P].name]=t.attributes[P].value;(O||x)&&(O&&x&&O.__html==x.__html||(t.innerHTML=O&&O.__html||""))}If(t,N,F,c,h),O?e.__k=[]:(e.__k=e.props.children,zo(t,e,r,n,e.type!=="foreignObject"&&c,o,g,We,h)),h||("value"in N&&(M=N.value)!==void 0&&M!==t.value&&Dt(t,"value",M,F.value,!1),"checked"in N&&(M=N.checked)!==void 0&&M!==t.checked&&Dt(t,"checked",M,F.checked,!1))}return t}function Jo(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Y.__e(n,r)}}function bt(t,e,r){var n,c,o;if(Y.unmount&&Y.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Jo(n,null,e)),r||typeof t.type=="function"||(r=(c=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(g){Y.__e(g,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&bt(n[o],e,r);c!=null&&$o(c)}function Bf(t,e,r){return this.constructor(t,r)}function xt(t,e,r){var n,c,o;Y.__&&Y.__(t,e),c=(n=r===ln)?null:r&&r.__k||e.__k,t=ze(Ct,null,[t]),o=[],hn(e,(n?e:r||e).__k=t,c||We,We,e.ownerSVGElement!==void 0,r&&!n?[r]:c?null:Qt.slice.call(e.childNodes),o,r||We,n),jo(o,t)}function Vo(t,e){xt(t,e,ln)}function Of(t,e){var r,n;for(n in e=He(He({},t.props),e),arguments.length>2&&(e.children=Qt.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return Ft(t.type,r,e.key||t.key,e.ref||t.ref,null)}function Ko(t){var e={},r={__c:"__cC"+qo++,__:t,Consumer:function(n,c){return n.children(c)},Provider:function(n){var c,o=this;return this.getChildContext||(c=[],this.getChildContext=function(){return e[r.__c]=o,e},this.shouldComponentUpdate=function(g){o.props.value!==g.value&&c.some(function(h){h.context=g.value,Bt(h)})},this.sub=function(g){c.push(g);var h=g.componentWillUnmount;g.componentWillUnmount=function(){c.splice(c.indexOf(g),1),h&&h.call(g)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}Y={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Bt(r.__E=r)}catch(c){t=c}throw t}},Fe.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=He({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&He(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Bt(this))},Fe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Bt(this))},Fe.prototype.render=Ct,yt=[],fn=0,Do=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ln=We,qo=0;var rt,Ne,ni,ht=0,qr=[],ii=Y.__r,oi=Y.diffed,ai=Y.__c,si=Y.unmount;function mt(t,e){Y.__h&&Y.__h(Ne,t,ht||e),ht=0;var r=Ne.__H||(Ne.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function dn(t){return ht=1,pn(ta,t)}function pn(t,e,r){var n=mt(rt++,2);return n.__c||(n.__c=Ne,n.__=[r?r(e):ta(void 0,e),function(c){var o=t(n.__[0],c);n.__[0]!==o&&(n.__[0]=o,n.__c.setState({}))}]),n.__}function Yo(t,e){var r=mt(rt++,3);!Y.__s&&mn(r.__H,e)&&(r.__=t,r.__H=e,Ne.__H.__h.push(r))}function gn(t,e){var r=mt(rt++,4);!Y.__s&&mn(r.__H,e)&&(r.__=t,r.__H=e,Ne.__h.push(r))}function Qo(t){return ht=5,Gt(function(){return{current:t}},[])}function Go(t,e,r){ht=6,gn(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function Gt(t,e){var r=mt(rt++,7);return mn(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function Zo(t,e){return ht=8,Gt(function(){return t},e)}function Xo(t){var e=Ne.context[t.__c],r=mt(rt++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(Ne)),e.props.value):t.__}function ea(t,e){Y.useDebugValue&&Y.useDebugValue(e?e(t):t)}function Nf(t){var e=mt(rt++,10),r=dn();return e.__=t,Ne.componentDidCatch||(Ne.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Lf(){qr.some(function(t){if(t.__P)try{t.__H.__h.forEach($r),t.__H.__h.forEach(Hr),t.__H.__h=[]}catch(e){return t.__H.__h=[],Y.__e(e,t.__v),!0}}),qr=[]}function $r(t){t.t&&t.t()}function Hr(t){var e=t.__();typeof e=="function"&&(t.t=e)}function mn(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function ta(t,e){return typeof e=="function"?e(t):e}Y.__r=function(t){ii&&ii(t),rt=0,(Ne=t.__c).__H&&(Ne.__H.__h.forEach($r),Ne.__H.__h.forEach(Hr),Ne.__H.__h=[])},Y.diffed=function(t){oi&&oi(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(qr.push(e)!==1&&ni===Y.requestAnimationFrame||((ni=Y.requestAnimationFrame)||function(n){var c,o=function(){clearTimeout(g),cancelAnimationFrame(c),setTimeout(n)},g=setTimeout(o,100);typeof window<"u"&&(c=requestAnimationFrame(o))})(Lf))}},Y.__c=function(t,e){e.some(function(r){try{r.__h.forEach($r),r.__h=r.__h.filter(function(n){return!n.__||Hr(n)})}catch(n){e.some(function(c){c.__h&&(c.__h=[])}),e=[],Y.__e(n,r.__v)}}),ai&&ai(t,e)},Y.unmount=function(t){si&&si(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){Y.__e(n,e.__v)}}};function vn(t,e){for(var r in e)t[r]=e[r];return t}function Wr(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var ra=function(t){var e,r;function n(c){var o;return(o=t.call(this,c)||this).isPureReactComponent=!0,o}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(c,o){return Wr(this.props,c)||Wr(this.state,o)},n}(Fe);function na(t,e){function r(c){var o=this.props.ref,g=o==c.ref;return!g&&o&&(o.call?o(null):o.current=null),e?!e(this.props,c)||!g:Wr(this.props,c)}function n(c){return this.shouldComponentUpdate=r,ze(t,vn({},c))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var ci=Y.__b;function ia(t){function e(r){var n=vn({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}Y.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),ci&&ci(t)};var ui=function(t,e){return t?Ke(t).reduce(function(r,n,c){return r.concat(e(n,c))},[]):null},oa={map:ui,forEach:ui,count:function(t){return t?Ke(t).length:0},only:function(t){if((t=Ke(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Ke},Uf=Y.__e;function aa(t){return t&&((t=vn({},t)).__c=null,t.__k=t.__k&&t.__k.map(aa)),t}function qt(){this.__u=0,this.o=null,this.__b=null}function sa(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function ca(t){var e,r,n;function c(o){if(e||(e=t()).then(function(g){r=g.default||g},function(g){n=g}),n)throw n;if(!r)throw e;return ze(r,o)}return c.displayName="Lazy",c.t=!0,c}function nt(){this.i=null,this.l=null}Y.__e=function(t,e,r){if(t.then){for(var n,c=e;c=c.__;)if((n=c.__c)&&n.__c)return n.__c(t,e.__c)}Uf(t,e,r)},(qt.prototype=new Fe).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=sa(r.__v),c=!1,o=function(){c||(c=!0,n?n(g):g())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var g=function(){var h;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});h=r.o.pop();)h.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(o,o)},qt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=aa(this.__b),this.__b=null),[ze(Fe,null,e.u?null:t.children),e.u&&t.fallback]};var fi=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(nt.prototype=new Fe).u=function(t){var e=this,r=sa(e.__v),n=e.l.get(t);return n[0]++,function(c){var o=function(){e.props.revealOrder?(n.push(c),fi(e,t,n)):c()};r?r(o):o()}},nt.prototype.render=function(t){this.i=null,this.l=new Map;var e=Ke(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},nt.prototype.componentDidUpdate=nt.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){fi(t,r,e)})};var Pf=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function Ff(t){var e=this,r=t.container,n=ze(Pf,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),bt(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,xt(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),Vo("",r),r.appendChild(e.v),e.p=!0,e.s=r,xt(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),bt(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),bt(e.h)},null}function ua(t,e){return ze(Ff,{vnode:t,container:e})}var li=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Fe.prototype.isReactComponent={};var fa=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function zr(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return xt(t,e),typeof r=="function"&&r(),t?t.__c:null}function Df(t,e,r){return Vo(t,e),typeof r=="function"&&r(),t?t.__c:null}var hi=Y.event;function Rr(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}Y.event=function(t){hi&&(t=hi(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var c=t.preventDefault;return t.preventDefault=function(){c.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var di={configurable:!0,get:function(){return this.class}},pi=Y.vnode;Y.vnode=function(t){t.$$typeof=fa;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(di.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",di)),typeof e!="function"){var n,c,o;for(o in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(Ke(r.children).forEach(function(g){r.value.indexOf(g.props.value)!=-1&&(g.props.selected=!0)}),delete r.value),r)if(n=li.test(o))break;if(n)for(o in c=t.props={},r)c[li.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}(function(g){var h=t.type,M=t.props;if(M&&typeof h=="string"){var T={};for(var x in M)/^on(Ani|Tra|Tou)/.test(x)&&(M[x.toLowerCase()]=M[x],delete M[x]),T[x.toLowerCase()]=x;if(T.ondoubleclick&&(M.ondblclick=M[T.ondoubleclick],delete M[T.ondoubleclick]),T.onbeforeinput&&(M.onbeforeinput=M[T.onbeforeinput],delete M[T.onbeforeinput]),T.onchange&&(h==="textarea"||h.toLowerCase()==="input"&&!/^fil|che|ra/i.test(M.type))){var O=T.oninput||"oninput";M[O]||(M[O]=M[T.onchange],delete M[T.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Rr(e.prototype,"componentWillMount"),Rr(e.prototype,"componentWillReceiveProps"),Rr(e.prototype,"componentWillUpdate"),e.m=!0)}pi&&pi(t)};var qf="16.8.0";function la(t){return ze.bind(null,t)}function _n(t){return!!t&&t.$$typeof===fa}function ha(t){return _n(t)?Of.apply(null,arguments):t}function da(t){return!!t.__k&&(xt(null,t),!0)}function pa(t){return t&&(t.base||t.nodeType===1&&t)||null}var ga=function(t,e){return t(e)};const $f={useState:dn,useReducer:pn,useEffect:Yo,useLayoutEffect:gn,useRef:Qo,useImperativeHandle:Go,useMemo:Gt,useCallback:Zo,useContext:Xo,useDebugValue:ea,version:"16.8.0",Children:oa,render:zr,hydrate:zr,unmountComponentAtNode:da,createPortal:ua,createElement:ze,createContext:Ko,createFactory:la,cloneElement:ha,createRef:Ho,Fragment:Ct,isValidElement:_n,findDOMNode:pa,Component:Fe,PureComponent:ra,memo:na,forwardRef:ia,unstable_batchedUpdates:ga,Suspense:qt,SuspenseList:nt,lazy:ca},Hf=Object.freeze(Object.defineProperty({__proto__:null,default:$f,version:qf,Children:oa,render:zr,hydrate:Df,unmountComponentAtNode:da,createPortal:ua,createFactory:la,cloneElement:ha,isValidElement:_n,findDOMNode:pa,PureComponent:ra,memo:na,forwardRef:ia,unstable_batchedUpdates:ga,Suspense:qt,SuspenseList:nt,lazy:ca,createElement:ze,createContext:Ko,createRef:Ho,Fragment:Ct,Component:Fe,useState:dn,useReducer:pn,useEffect:Yo,useLayoutEffect:gn,useRef:Qo,useImperativeHandle:Go,useMemo:Gt,useCallback:Zo,useContext:Xo,useDebugValue:ea,useErrorBoundary:Nf},Symbol.toStringTag,{value:"Module"})),Wf=vi(Hf);function ma(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Oe=bu,va=ma(St),zf=ma(Cf),$=Wf;function jf(t){va.toString(t,{type:"terminal"}).then(console.log)}var Jf=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Vf(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var Kf="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Yf="WalletConnect",Qf=300,Gf="rgb(64, 153, 255)",_a="walletconnect-wrapper",gi="walletconnect-style-sheet",wa="walletconnect-qrcode-modal",Zf="walletconnect-qrcode-close",ya="walletconnect-qrcode-text",Xf="walletconnect-connect-button";function el(t){return $.createElement("div",{className:"walletconnect-modal__header"},$.createElement("img",{src:Kf,className:"walletconnect-modal__headerLogo"}),$.createElement("p",null,Yf),$.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},$.createElement("div",{id:Zf,className:"walletconnect-modal__close__icon"},$.createElement("div",{className:"walletconnect-modal__close__line1"}),$.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function tl(t){return $.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Xf+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var rl="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function nl(t){var e=t.color,r=t.href,n=t.name,c=t.logo,o=t.onClick;return $.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},$.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),$.createElement("div",{className:"walletconnect-modal__base__row__right"},$.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+c+"') "+e,backgroundSize:"100%"}}),$.createElement("img",{src:rl,className:"walletconnect-modal__base__row__right__caret"})))}function il(t){var e=t.color,r=t.href,n=t.name,c=t.logo,o=t.onClick,g=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return $.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},$.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+c+"') "+e,backgroundSize:"100%"}}),$.createElement("div",{style:{fontSize:g},className:"walletconnect-connect__button__text"},n))}var ol=5,Cr=12;function al(t){var e=Oe.isAndroid(),r=$.useState(""),n=r[0],c=r[1],o=$.useState(""),g=o[0],h=o[1],M=$.useState(1),T=M[0],x=M[1],O=g?t.links.filter(function(B){return B.name.toLowerCase().includes(g.toLowerCase())}):t.links,P=t.errorMessage,F=g||O.length>ol,N=Math.ceil(O.length/Cr),q=[(T-1)*Cr+1,T*Cr],R=O.length?O.filter(function(B,H){return H+1>=q[0]&&H+1<=q[1]}):[],C=!e&&N>1,I=void 0;function A(B){c(B.target.value),clearTimeout(I),B.target.value?I=setTimeout(function(){h(B.target.value),x(1)},1e3):(c(""),h(""),x(1))}return $.createElement("div",null,$.createElement("p",{id:ya,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&$.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:A}),$.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":F&&O.length?"__wrap":"")},e?$.createElement(tl,{name:t.text.connect,color:Gf,href:t.uri,onClick:$.useCallback(function(){Oe.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):R.length?R.map(function(B){var H=B.color,W=B.name,V=B.shortName,j=B.logo,ne=Oe.formatIOSMobile(t.uri,B),b=$.useCallback(function(){Oe.saveMobileLinkInfo({name:W,href:ne})},[R]);return F?$.createElement(il,{color:H,href:ne,name:V||W,logo:j,onClick:b}):$.createElement(nl,{color:H,href:ne,name:W,logo:j,onClick:b})}):$.createElement($.Fragment,null,$.createElement("p",null,P.length?t.errorMessage:!!t.links.length&&!O.length?t.text.no_wallets_found:t.text.loading))),C&&$.createElement("div",{className:"walletconnect-modal__footer"},Array(N).fill(0).map(function(B,H){var W=H+1,V=T===W;return $.createElement("a",{style:{margin:"auto 10px",fontWeight:V?"bold":"normal"},onClick:function(){return x(W)}},W)})))}function sl(t){var e=!!t.message.trim();return $.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var cl=function(t){try{var e="";return Promise.resolve(va.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function ul(t){var e=$.useState(""),r=e[0],n=e[1],c=$.useState(""),o=c[0],g=c[1];$.useEffect(function(){try{return Promise.resolve(cl(t.uri)).then(function(M){g(M)})}catch(M){Promise.reject(M)}},[]);var h=function(){var M=zf(t.uri);M?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return $.createElement("div",null,$.createElement("p",{id:ya,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),$.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),$.createElement("div",{className:"walletconnect-modal__footer"},$.createElement("a",{onClick:h},t.text.copy_to_clipboard)),$.createElement(sl,{message:r}))}function fl(t){var e=Oe.isAndroid(),r=Oe.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,c=$.useState(!1),o=c[0],g=c[1],h=$.useState(!1),M=h[0],T=h[1],x=$.useState(!r),O=x[0],P=x[1],F={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},N=$.useState(""),q=N[0],R=N[1],C=$.useState(!1),I=C[0],A=C[1],B=$.useState([]),H=B[0],W=B[1],V=$.useState(""),j=V[0],ne=V[1],b=function(){M||o||n&&!n.length||H.length>0||$.useEffect(function(){var f=function(){try{if(e)return Promise.resolve();g(!0);var d=Vf(function(){var l=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Oe.getWalletRegistryUrl();return Promise.resolve(fetch(l)).then(function(p){return Promise.resolve(p.json()).then(function(y){var S=y.listings,m=r?"mobile":"desktop",a=Oe.getMobileLinkRegistry(Oe.formatMobileRegistry(S,m),n);g(!1),T(!0),ne(a.length?"":t.text.no_supported_wallets),W(a);var _=a.length===1;_&&(R(Oe.formatIOSMobile(t.uri,a[0])),P(!0)),A(_)})})},function(l){g(!1),T(!0),ne(t.text.something_went_wrong),console.error(l)});return Promise.resolve(d&&d.then?d.then(function(){}):void 0)}catch(l){return Promise.reject(l)}};f()})};b();var i=r?O:!O;return $.createElement("div",{id:wa,className:"walletconnect-qrcode__base animated fadeIn"},$.createElement("div",{className:"walletconnect-modal__base"},$.createElement(el,{onClose:t.onClose}),I&&O?$.createElement("div",{className:"walletconnect-modal__single_wallet"},$.createElement("a",{onClick:function(){return Oe.saveMobileLinkInfo({name:H[0].name,href:q})},href:q,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(I?H[0].name:"")+" \u203A")):e||o||!o&&H.length?$.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(i?" right__selected":"")},$.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return P(!1),b()}},t.text.mobile),$.createElement("a",{onClick:function(){return P(!0)}},t.text.qrcode)):$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return P(!0)}},t.text.qrcode),$.createElement("a",{onClick:function(){return P(!1),b()}},t.text.desktop))):null,$.createElement("div",null,O||!e&&!o&&!H.length?$.createElement(ul,Object.assign({},F)):$.createElement(al,Object.assign({},F,{links:H,errorMessage:j})))))}var ll={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},hl={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},dl={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},pl={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},gl={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},ml={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},vl={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},_l={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},mi={de:ll,en:hl,es:dl,fr:pl,ko:gl,pt:ml,zh:vl,fa:_l};function wl(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(gi);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",gi),r.innerText=Jf,t.head.appendChild(r)}function yl(){var t=Oe.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",_a),t.body.appendChild(e),e}function ba(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(wa);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(_a);r&&t.body.removeChild(r)},Qf))}function bl(t){return function(){ba(),t&&t()}}function Ml(){var t=Oe.getNavigatorOrThrow().language.split("-")[0]||"en";return mi[t]||mi.en}function El(t,e,r){wl();var n=yl();$.render($.createElement(fl,{text:Ml(),uri:t,onClose:bl(e),qrcodeModalOptions:r}),n)}function xl(){ba()}var Ma=function(){return typeof qe.exports<"u"&&typeof qe.exports.versions<"u"&&typeof qe.exports.versions.node<"u"};function Sl(t,e,r){console.log(t),Ma()?jf(t):El(t,e,r)}function Rl(){Ma()||xl()}var Cl={open:Sl,close:Rl},Tl=Cl;class Al extends $a{constructor(e){super(),this.events=new _i,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e){if(this.connected){this.onOpen();return}return new Promise((r,n)=>{this.on("error",c=>{n(c)}),this.on("open",()=>{r()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(r=>this.events.emit("payload",r)).catch(r=>this.events.emit("payload",Tr(e.id,r.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const r={bridge:this.bridge,qrcodeModal:this.qrcode?Tl:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new yu(r),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,r="Failed or Rejected Request",n=-32e3){const c={id:e.id,jsonrpc:e.jsonrpc,error:{code:n,message:r}};return this.events.emit("payload",c),c}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(r=>this.events.emit("error",r)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var r,n;if(e){this.events.emit("error",e);return}this.accounts=((r=this.wc)===null||r===void 0?void 0:r.accounts)||[],this.chainId=((n=this.wc)===null||n===void 0?void 0:n.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,r)=>{const{accounts:n,chainId:c}=r.params[0];(!this.accounts||n&&this.accounts!==n)&&(this.accounts=n,this.events.emit("accountsChanged",n)),(!this.chainId||c&&this.chainId!==c)&&(this.chainId=c,this.events.emit("chainChanged",c))})}async sendPayload(e){this.wc=this.register(this.opts);try{const r=await this.wc.unsafeSend(e);return this.sanitizeResponse(r)}catch(r){return this.onError(e,r.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?Tr(e.id,e.error.message):e}}class Bl{constructor(e){this.events=new _i,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new Bn(new Al(e));const r=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(r),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Gr.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,r){this.request(e).then(n=>r(null,n)).catch(n=>r(n,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const r=dc(e,this.rpc);return typeof r>"u"?void 0:new Bn(new Za(r))}}export{Bl as default};
